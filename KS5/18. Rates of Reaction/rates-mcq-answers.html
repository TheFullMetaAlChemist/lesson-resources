<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCR A Level Chemistry â€“ 5.1 Rates, Orders & Arrhenius: MC Answers (OneCompiler-safe)</title>
<style>
  :root{
    --bg:#0f172a; --panel:#0b1224; --card:#111b35; --ink:#e5e7eb; --muted:#a3aed0;
    --accent:#7c3aed; --accent-2:#22d3ee; --ok:#10b981; --chip:#1e293b; --ring: rgba(124, 58, 237, .35);
  }
  *{box-sizing:border-box}
  html,body{
    margin:0;padding:0;background:
      radial-gradient(1200px 600px at 10% -5%, rgba(124,58,237,.25), transparent 60%),
      radial-gradient(1200px 600px at 100% 5%, rgba(34,211,238,.15), transparent 60%),
      var(--bg);
    color:var(--ink); font:16px/1.5 system-ui,Segoe UI,Roboto,Arial,sans-serif
  }
  header{padding:32px 16px 12px;text-align:center}
  header h1{margin:0 0 8px;font-size:clamp(1.2rem,3vw,1.8rem)}
  header p{margin:0;color:var(--muted)}
  .wrap{max-width:980px;margin:0 auto;padding:16px}
  .toolbar{display:grid;gap:12px;grid-template-columns:1fr;background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,0));
    border:1px solid rgba(255,255,255,.06);border-radius:14px;padding:14px}
  @media (min-width:720px){.toolbar{grid-template-columns:1fr auto auto auto}}
  .search{position:relative}
  .search input{width:100%;padding:12px 14px 12px 40px;border-radius:10px;border:1px solid rgba(255,255,255,.1);
    background:var(--panel);color:var(--ink);outline:none}
  .search input:focus{box-shadow:0 0 0 4px var(--ring);border-color:var(--accent)}
  .search .icon{position:absolute;left:10px;top:50%;transform:translateY(-50%);opacity:.75}
  .btn{appearance:none;border:0;cursor:pointer;padding:10px 14px;border-radius:10px;color:#fff;
    background:linear-gradient(135deg,var(--accent),#5b21b6);transition:.05s transform,.2s box-shadow;
    box-shadow:0 8px 20px rgba(124,58,237,.2);white-space:nowrap}
  .btn.secondary{background:linear-gradient(135deg,#0ea5e9,#0369a1);box-shadow:0 8px 20px rgba(14,165,233,.2)}
  .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,.15)}
  .btn:active{transform:translateY(1px)}
  .progress{margin:14px 0 0;display:flex;align-items:center;gap:10px}
  .bar{flex:1;height:10px;background:rgba(255,255,255,.08);border-radius:999px;overflow:hidden}
  .bar>span{display:block;height:100%;width:0%;background:linear-gradient(90deg,var(--ok),#34d399);transition:width .3s ease}
  .stats{font-size:.9rem;color:var(--muted)}
  .grid{display:grid;gap:16px;margin-top:18px}
  @media (min-width:720px){.grid{grid-template-columns:1fr 1fr}}
  .card{background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.01));
    border:1px solid rgba(255,255,255,.06);border-radius:16px;padding:16px 16px 10px;position:relative;overflow:hidden}
  .qhead{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:6px}
  .qtag{display:inline-flex;align-items:center;gap:6px;background:var(--chip);color:#cbd5e1;border:1px solid rgba(255,255,255,.06);
    padding:2px 8px;border-radius:999px;font-size:.75rem}
  .qnum{font-weight:700;font-size:.95rem;color:#c7d2fe;letter-spacing:.3px}
  .title{margin:0;font-size:1.02rem}
  .answer{margin:6px 0 10px;padding:10px 12px;border-radius:12px;background:rgba(34,211,238,.07);border:1px dashed rgba(34,211,238,.35)}
  .answer b{color:#a5f3fc}
  details{border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:8px 10px;margin:8px 0;background:rgba(255,255,255,.02)}
  summary{cursor:pointer;list-style:none;position:relative;padding-right:28px}
  summary::-webkit-details-marker{display:none}
  summary:after{content:"â–¸";position:absolute;right:6px;top:0;transform:translateY(2px);transition:transform .2s ease;opacity:.8}
  details[open] summary:after{transform:rotate(90deg) translateX(2px)}
  .why{border-left:3px solid var(--accent)}
  .tips{border-left:3px solid var(--ok)}
  .why h4,.tips h4{margin:0 0 6px;font-size:.95rem;color:#e9d5ff}
  .tips h4{color:#bbf7d0}
  .chips{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px}
  .check{display:flex;align-items:center;gap:8px;margin-top:4px;font-size:.95rem;color:var(--muted)}
  .check input{transform:scale(1.15)}
  .hidden{display:none !important}
  footer{margin:28px 0;text-align:center;color:var(--muted);font-size:.9rem}
  .hl{color:#fde68a}
  .small{font-size:.9rem;color:var(--muted)}
</style>
</head>
<body>
<header>
  <h1>OCR A Chemistry â€“ Section 5.1 (Rates, Orders & Arrhenius) â€¢ MC Answers</h1>
  <p>Click to reveal the <em>Why</em> (thought process) and <em>Tips</em>. Mark yourself to track progress.</p>
</header>

<div class="wrap">
  <div class="toolbar">
    <div class="search">
      <span class="icon">ğŸ”</span>
      <input id="search" type="search" placeholder="Filter by topic keywords (e.g. Arrhenius, order, graph, units) â€¦" />
    </div>
    <button class="btn" id="expandAll">Expand all reveals</button>
    <button class="btn ghost" id="collapseAll">Collapse all reveals</button>
    <button class="btn secondary" id="resetChecks">Reset progress</button>
    <div class="progress" style="grid-column:1 / -1">
      <div class="bar"><span id="barFill"></span></div>
      <div class="stats"><span id="done">0</span>/<span id="total">0</span> correct</div>
    </div>
  </div>

  <div class="grid" id="cards">
    <!-- Q1 -->
    <article class="card" data-tags="order graphs kinetics first-order">
      <div class="qhead">
        <span class="qnum">Q1</span>
        <h3 class="title">First order with respect to propanone â€” which graph?</h3>
        <span class="qtag">Graphs</span>
      </div>
      <div class="answer">
        <b>Answer:</b> The diagnostic plot is <span class="hl">ln[propanone] vs time</span> as a straight line with gradient âˆ’k (or a concentrationâ€“time curve with a constant half-life). Match to the option showing a straight-line decay of ln[C] with t.
      </div>
      <details class="why">
        <summary><strong>Why / Thought process</strong></summary>
        <p>For a first-order reactant A: ln[A] = âˆ’kÂ·t + ln[A]â‚€ â€” a straight line in ln[A] vs t with slope âˆ’k. A straight line in 1/[A] vs t indicates second order; a straight line in [A] vs t indicates zero order.</p>
      </details>
      <details class="tips"><summary><strong>Tips</strong></summary>
        <ul>
          <li>Constant half-life in the raw [A]â€“t curve â†’ first order.</li>
          <li>Diagnostics: [A] vs t linear = zero; ln[A] vs t linear = first; 1/[A] vs t linear = second.</li>
        </ul>
      </details>
      <label class="check"><input type="checkbox" /> I got this one right</label>
      <div class="chips"><span class="qtag">First order</span><span class="qtag">Half-life</span><span class="qtag">Data analysis</span></div>
    </article>

    <!-- Q2 -->
    <article class="card" data-tags="rate law zero order proportional change">
      <div class="qhead">
        <span class="qnum">Q2</span>
        <h3 class="title">Zero order in W, first order in X: rate when [X] doubles?</h3>
        <span class="qtag">Orders</span>
      </div>
      <div class="answer">
        <b>Answer:</b> <span class="hl">B. 1.4 Ã— 10â»Â³ mol dmâ»Â³ sâ»Â¹</span>
      </div>
      <details class="why"><summary><strong>Why / Thought process</strong></summary>
        <p>Rate âˆ [X]. Doubling X from 0.50 â†’ 1.00 doubles the rate: 2 Ã— 7.0 Ã— 10â»â´ = 1.4 Ã— 10â»Â³. W is zero order, so changing W does nothing.</p>
      </details>
      <details class="tips"><summary><strong>Tips</strong></summary>
        <p>If a reactant is zero order, its concentration changes do not affect rate (though it can appear in the stoichiometry).</p>
      </details>
      <label class="check"><input type="checkbox" /> I got this one right</label>
      <div class="chips"><span class="qtag">Zero order</span><span class="qtag">Proportionality</span></div>
    </article>

    <!-- Q3 -->
    <article class="card" data-tags="units k rate constant second order">
      <div class="qhead">
        <span class="qnum">Q3</span>
        <h3 class="title">Units of k for rate = k[X][Y]</h3>
        <span class="qtag">Units</span>
      </div>
      <div class="answer">
        <b>Answer:</b> <span class="hl">D. dmÂ³ molâ»Â¹ sâ»Â¹</span>
      </div>
      <details class="why"><summary><strong>Why / Thought process</strong></summary>
        <p>Rate units: mol dmâ»Â³ sâ»Â¹. The term [X][Y] has units (mol dmâ»Â³)Â². Hence k = (mol dmâ»Â³ sâ»Â¹) Ã· (molÂ² dmâ»â¶) = dmÂ³ molâ»Â¹ sâ»Â¹.</p>
      </details>
      <details class="tips"><summary><strong>Tips</strong></summary>
        <p>General (overall order n): units(k) = dmÂ³â½â¿â»Â¹â¾ molÂ¹â»â¿ sâ»Â¹.</p>
      </details>
      <label class="check"><input type="checkbox" /> I got this one right</label>
      <div class="chips"><span class="qtag">Rate constant</span><span class="qtag">Dimensional analysis</span></div>
    </article>

    <!-- Q4 -->
    <article class="card" data-tags="arrhenius units gas constant">
      <div class="qhead">
        <span class="qnum">Q4</span>
        <h3 class="title">Arrhenius terms â€” which has incorrect units?</h3>
        <span class="qtag">Arrhenius</span>
      </div>
      <div class="answer">
        <b>Answer:</b> <span class="hl">B</span> (the unit for R is wrong on the option sheet)
      </div>
      <details class="why"><summary><strong>Why / Thought process</strong></summary>
        <p>Correct units: Eâ‚: J molâ»Â¹; R: J Kâ»Â¹ molâ»Â¹; T: K; e: none. The Kâ»Â¹ on R is essential.</p>
      </details>
      <details class="tips"><summary><strong>Tips</strong></summary>
        <p>Use consistent energy units: both Eâ‚ and R in J, or both in kJ (with R = 8.314 Ã— 10â»Â³ kJ Kâ»Â¹ molâ»Â¹).</p>
      </details>
      <label class="check"><input type="checkbox" /> I got this one right</label>
      <div class="chips"><span class="qtag">Units</span><span class="qtag">Gas constant</span></div>
    </article>

    <!-- Q5 -->
    <article class="card" data-tags="arrhenius plot ln k vs 1/T activation energy">
      <div class="qhead">
        <span class="qnum">Q5</span>
        <h3 class="title">From an Arrhenius plot of ln k vs 1/T, what can you obtain?</h3>
        <span class="qtag">Arrhenius</span>
      </div>
      <div class="answer">
        <b>Answer:</b> <span class="hl">A. Activation energy Eâ‚</span>
      </div>
      <details class="why"><summary><strong>Why / Thought process</strong></summary>
        <p>Gradient m = âˆ’Eâ‚/R. From m and R compute Eâ‚. The intercept gives ln A.</p>
      </details>
      <details class="tips"><summary><strong>Tips</strong></summary>
        <p>If the question mentions the intercept, that is ln A (the pre-exponential factor).</p>
      </details>
      <label class="check"><input type="checkbox" /> I got this one right</label>
      <div class="chips"><span class="qtag">Activation energy</span><span class="qtag">Graph skills</span></div>
    </article>

    <!-- Q6 -->
    <article class="card" data-tags="zero order concentration time graph half-life">
      <div class="qhead">
        <span class="qnum">Q6</span>
        <h3 class="title">Zero-order concentrationâ€“time graph</h3>
        <span class="qtag">Graphs</span>
      </div>
      <div class="answer">
        <b>Answer:</b> The correct graph is a <span class="hl">straight line</span> decrease of [reactant] with time at a constant rate (linear down to zero).
      </div>
      <details class="why"><summary><strong>Why / Thought process</strong></summary>
        <p>Zero order: [A] = [A]â‚€ âˆ’ kÂ·t. Linear fall; slope magnitude is k. The half-life decreases as [A] drops (not constant).</p>
      </details>
      <details class="tips"><summary><strong>Tips</strong></summary>
        <p>Compare half-lives: decreasing tÂ½ â†’ zero order; constant tÂ½ â†’ first order.</p>
      </details>
      <label class="check"><input type="checkbox" /> I got this one right</label>
      <div class="chips"><span class="qtag">Zero order</span><span class="qtag">Half-life</span></div>
    </article>

    <!-- Q7 -->
    <article class="card" data-tags="iodination propanone acid catalysis rate law orders">
      <div class="qhead">
        <span class="qnum">Q7</span>
        <h3 class="title">Iodineâ€“propanone (acid-catalysed): rate law k[Hâº][Câ‚ƒHâ‚†O]</h3>
        <span class="qtag">Orders</span>
      </div>
      <div class="answer">
        <b>Answer:</b> <span class="hl">C.</span> Iodine: zero; Propanone: first; Sulfuric acid: first.
      </div>
      <details class="why"><summary><strong>Why / Thought process</strong></summary>
        <p>Species in the rate law carry non-zero order; species absent are zero order. Hence first order in propanone and Hâº; zero order in Iâ‚‚.</p>
      </details>
      <details class="tips"><summary><strong>Tips</strong></summary>
        <p>A reactant can be zero order if it reacts after the rate-determining step or is in fast steps.</p>
      </details>
      <label class="check"><input type="checkbox" /> I got this one right</label>
      <div class="chips"><span class="qtag">Catalysis</span><span class="qtag">Mechanism vs rate law</span></div>
    </article>

    <!-- Q8 -->
    <article class="card" data-tags="initial rates calculate k second order">
      <div class="qhead">
        <span class="qnum">Q8</span>
        <h3 class="title">Find k from initial rates (rate = k[A][B]Â²)</h3>
        <span class="qtag">Calculations</span>
      </div>
      <div class="answer">
        <b>Answer:</b> <span class="hl">B. 3.2 Ã— 10â»Â²</span>
      </div>
      <details class="why"><summary><strong>Why / Thought process</strong></summary>
        <p>Using a row (e.g., Expt 2): k = (1.5 Ã— 10â»â´) Ã· (0.30 Ã— 0.25Â²) = (1.5 Ã— 10â»â´) Ã· 0.075 = 3.2 Ã— 10â»Â².</p>
      </details>
      <details class="tips"><summary><strong>Tips</strong></summary>
        <p>Overall order 3 â†’ units of k are dm6 molâ»Â² sâ»Â¹. Always check units.</p>
      </details>
      <label class="check"><input type="checkbox" /> I got this one right</label>
      <div class="chips"><span class="qtag">Initial rates</span><span class="qtag">Units check</span></div>
    </article>

    <!-- Q9 -->
    <article class="card" data-tags="second order rate concentration graph">
      <div class="qhead">
        <span class="qnum">Q9</span>
        <h3 class="title">Rateâ€“concentration graphs for a second-order reactant</h3>
        <span class="qtag">Graphs</span>
      </div>
      <div class="answer">
        <b>Answer:</b> Choose the graph where <span class="hl">rate vs [A]</span> is a curve through the origin that gets steeper (quadratic), or where <span class="hl">rate vs [A]Â²</span> is a straight line through the origin.
      </div>
      <details class="why"><summary><strong>Why / Thought process</strong></summary>
        <p>For second order in A: rate = k[A]Â². Plotting rate vs [A] gives a curve; plotting rate vs [A]Â² linearises it.</p>
      </details>
      <details class="tips"><summary><strong>Tips</strong></summary>
        <p>First order â†’ rate vs [A] is linear; zero order â†’ horizontal line (rate independent of [A]).</p>
      </details>
      <label class="check"><input type="checkbox" /> I got this one right</label>
      <div class="chips"><span class="qtag">Second order</span><span class="qtag">Data transforms</span></div>
    </article>

    <!-- Q10 -->
    <article class="card" data-tags="arrhenius slope gradient activation energy">
      <div class="qhead">
        <span class="qnum">Q10</span>
        <h3 class="title">Arrhenius slope âˆ’45000: what is Eâ‚?</h3>
        <span class="qtag">Arrhenius</span>
      </div>
      <div class="answer">
        <b>Answer:</b> <span class="hl">A. 374 kJ molâ»Â¹</span>
      </div>
      <details class="why"><summary><strong>Why / Thought process</strong></summary>
        <p>For ln k vs 1/T, slope m = âˆ’Eâ‚/R. So Eâ‚ = (âˆ’m)R = 45000 Ã— 8.31 â‰ˆ 3.74 Ã— 10âµ J molâ»Â¹ = 374 kJ molâ»Â¹.</p>
      </details>
      <details class="tips"><summary><strong>Tips</strong></summary>
        <p>Keep R and Eâ‚ in J to avoid rounding issues; convert to kJ at the end.</p>
      </details>
      <label class="check"><input type="checkbox" /> I got this one right</label>
      <div class="chips"><span class="qtag">Activation energy</span><span class="qtag">Graph math</span></div>
    </article>

    <!-- Q11 -->
    <article class="card" data-tags="arrhenius intercept pre-exponential factor A n2o5">
      <div class="qhead">
        <span class="qnum">Q11</span>
        <h3 class="title">From Arrhenius plot (Nâ‚‚Oâ‚… decomposition), find A</h3>
        <span class="qtag">Arrhenius</span>
      </div>
      <div class="answer">
        <b>Answer:</b> <span class="hl">D. 4.79 Ã— 10Â¹Â³ sâ»Â¹</span>
      </div>
      <details class="why"><summary><strong>Why / Thought process</strong></summary>
        <p>On ln k vs 1/T, the intercept is ln A. Exponentiating the graphâ€™s intercept yields A â‰ˆ 10Â¹Â³ sâ»Â¹ (closest option 4.79 Ã— 10Â¹Â³).</p>
      </details>
      <details class="tips"><summary><strong>Tips</strong></summary>
        <p>Ensure youâ€™re reading the intercept (not a data point). Units of A match those of k for the order (often sâ»Â¹).</p>
      </details>
      <label class="check"><input type="checkbox" /> I got this one right</label>
      <div class="chips"><span class="qtag">Pre-exponential</span><span class="qtag">Intercept</span></div>
    </article>

    <!-- Q12 -->
    <article class="card" data-tags="iodination propanone acid catalysis calculate k">
      <div class="qhead">
        <span class="qnum">Q12</span>
        <h3 class="title">Acidified propanone + iodine: compute k for rate = k[acetone][Hâº]</h3>
        <span class="qtag">Calculations</span>
      </div>
      <div class="answer">
        <b>Answer:</b> <span class="hl">B. 1.13 Ã— 10â»Â³ dmÂ³ molâ»Â¹ sâ»Â¹</span>
      </div>
      <details class="why"><summary><strong>Why / Thought process</strong></summary>
        <p>k = rate Ã· ([CHâ‚ƒCOCHâ‚ƒ] Â· [Hâº]) â‰ˆ (2.75 Ã— 10â»Â³) Ã· (3.32 Ã— 0.73) â‰ˆ 1.13 Ã— 10â»Â³. Iodine doesnâ€™t appear in the rate law â†’ ignore it when computing k.</p>
      </details>
      <details class="tips"><summary><strong>Tips</strong></summary>
        <p>Overall order 2 â†’ units of k are dmÂ³ molâ»Â¹ sâ»Â¹.</p>
      </details>
      <label class="check"><input type="checkbox" /> I got this one right</label>
      <div class="chips"><span class="qtag">Catalysis</span><span class="qtag">Units check</span></div>
    </article>

    <!-- Q13 -->
    <article class="card" data-tags="arrhenius slope from data calculate Ea">
      <div class="qhead">
        <span class="qnum">Q13</span>
        <h3 class="title">Activation energy from (1/T, ln k) data</h3>
        <span class="qtag">Arrhenius</span>
      </div>
      <div class="answer">
        <b>Answer:</b> <span class="hl">C. 90.7 kJ molâ»Â¹</span>
      </div>
      <details class="why"><summary><strong>Why / Thought process</strong></summary>
        <p>Fit ln k = m(1/T) + c -> m = âˆ’Eâ‚/R. With gradients around âˆ’1.10 Ã— 10â´, Eâ‚ â‰ˆ (1.10 Ã— 10â´) Ã— 8.31 = 9.1 Ã— 10â´ J molâ»Â¹ = 90.7 kJ molâ»Â¹.</p>
      </details>
      <details class="tips"><summary><strong>Tips</strong></summary>
        <p>Use consistent significant figures; typical Eâ‚ values are tens to low hundreds of kJ molâ»Â¹.</p>
      </details>
      <label class="check"><input type="checkbox" /> I got this one right</label>
      <div class="chips"><span class="qtag">Linearisation</span><span class="qtag">Slope -> Eâ‚</span></div>
    </article>

    <!-- Q14 -->
    <article class="card" data-tags="initial rates deduce orders table logic">
      <div class="qhead">
        <span class="qnum">Q14</span>
        <h3 class="title">Deduce the rate equation from experiment table</h3>
        <span class="qtag">Orders</span>
      </div>
      <div class="answer">
        <b>Answer:</b> <span class="hl">A. rate = k[A][C]Â²</span>
      </div>
      <details class="why"><summary><strong>Why / Thought process</strong></summary>
        <ol>
          <li>1 -> 2: A and B both doubled, C same; rate only doubles -> combined effect Ã—2 -> first order in A, zero in B (or vice versa).</li>
          <li>1 -> 3: C halves; rate quarters -> second order in C.</li>
          <li>1 -> 4: A Ã—3 and C Ã—2 -> rate Ã—(3 Ã— 2Â²) = Ã—12, matching the data. So rate = k[A][C]Â².</li>
        </ol>
      </details>
      <details class="tips"><summary><strong>Tips</strong></summary>
        <p>Change one variable at a time when possible; use a final row as a consistency check.</p>
      </details>
      <label class="check"><input type="checkbox" /> I got this one right</label>
      <div class="chips"><span class="qtag">Tables</span><span class="qtag">Consistency check</span></div>
    </article>

    <!-- Q15 -->
    <article class="card" data-tags="mechanism rate determining step pre-equilibrium NO H2">
      <div class="qhead">
        <span class="qnum">Q15</span>
        <h3 class="title">NO + Hâ‚‚ mechanism; which statements are true?</h3>
        <span class="qtag">Mechanisms</span>
      </div>
      <div class="answer">
        <b>Answer:</b> <span class="hl">B. Only 1 and 2 are true</span>
      </div>
      <details class="why"><summary><strong>Why / Thought process</strong></summary>
        <p>Observed rate: rate = k[NO]Â²[Hâ‚‚]. If a fast pre-equilibrium 2 NO <-> Nâ‚‚Oâ‚‚ precedes a rate-determining step Nâ‚‚Oâ‚‚ + Hâ‚‚ -> â€¦, the rate law matches. Halving [NO] and doubling [Hâ‚‚] gives (Â½)Â² Ã— 2 = Â½ -> rate halves. Statement 3 is false: k depends on temperature via Arrhenius.</p>
      </details>
      <details class="tips"><summary><strong>Tips</strong></summary>
        <p>Intermediates/catalysts can appear in the mechanism but not in the overall equation; the RDS and any pre-equilibria determine the rate law form.</p>
      </details>
      <label class="check"><input type="checkbox" /> I got this one right</label>
      <div class="chips"><span class="qtag">RDS</span><span class="qtag">Pre-equilibrium</span></div>
    </article>
  </div>

  <p class="small" style="margin-top:18px">Note: For graph-based items (Q1, Q6, Q9), match the described features to the option on your sheet.</p>
  <footer>OCR Chemistry A (H432) â€¢ Topic 5.1: Rates, Orders & Arrhenius â€¢ Self-marking companion</footer>
</div>

<script>
  const $ = (s, r=document) => r.querySelector(s);
  const $$ = (s, r=document) => Array.from(r.querySelectorAll(s));
  const cards = $("#cards");
  const totalEl = $("#total");
  const doneEl  = $("#done");
  const barFill = $("#barFill");
  const search  = $("#search");
  const checks  = $$("label.check input", cards);
  const total   = checks.length;
  totalEl.textContent = total;

  function updateProgress(){
    const done = checks.filter(c => c.checked && !c.closest(".card").classList.contains("hidden")).length;
    doneEl.textContent = done;
    const visible = $$(".card:not(.hidden)").length;
    const denom = visible === 0 ? total : Math.min(visible, total);
    const pct = Math.round((done / denom) * 100) || 0;
    barFill.style.width = pct + "%";
  }
  checks.forEach(c => c.addEventListener("change", updateProgress));
  updateProgress();

  $("#expandAll").addEventListener("click", ()=> $$("details", cards).forEach(d=> d.open=true));
  $("#collapseAll").addEventListener("click", ()=> $$("details", cards).forEach(d=> d.open=false));
  $("#resetChecks").addEventListener("click", ()=> { checks.forEach(c=> c.checked=false); updateProgress(); });

  search.addEventListener("input", (e)=>{
    const q = e.target.value.trim().toLowerCase();
    $$(".card", cards).forEach(card=>{
      const hay = (card.dataset.tags + " " + card.innerText).toLowerCase();
      const show = hay.includes(q);
      card.classList.toggle("hidden", !show);
    });
    updateProgress();
  });

  document.addEventListener("keydown", (ev)=>{
    if (ev.key === "e") $("#expandAll").click();
    if (ev.key === "c") $("#collapseAll").click();
    if (ev.key === "r") $("#resetChecks").click();
    if (ev.key === "/") { ev.preventDefault(); search.focus(); }
  });
</script>
</body>
</html>
