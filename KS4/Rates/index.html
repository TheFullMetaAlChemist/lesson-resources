<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>KS4 Chemistry • Rates of Reaction</title>
<meta name="description" content="KS4 Rates of Reaction topic hub: links to lessons, revision, tests, and feedback."/>
<style>
  :root{
    --bg:#0b1022; --bg-2:#0f172a; --card:#0d132a; --border:#1f2a44;
    --text:#e6edf3; --muted:#9fb0c2; --accent:#22d3ee; --accent2:#a78bfa; --ok:#34d399;
    --shadow:0 12px 28px rgba(0,0,0,.35); --radius:18px;
  }
  *{box-sizing:border-box}
  html,body{margin:0;background:linear-gradient(180deg,var(--bg) 0%,var(--bg-2) 60%,var(--bg) 100%);color:var(--text);font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,Arial}
  a{color:var(--accent);text-decoration:none}
  header{
    position:sticky;top:0;z-index:50;background:rgba(10,15,34,.8);
    backdrop-filter:blur(10px);border-bottom:1px solid var(--border)
  }
  .wrap{max-width:1100px;margin:0 auto;padding:18px 20px}
  h1{margin:0;font-size:clamp(22px,3vw,30px)}
  .sub{margin:6px 0 0 0;color:var(--muted);font-size:14px}
  .toolbar{display:flex;gap:10px;flex-wrap:wrap;margin-top:14px}
  input[type="search"]{
    flex:1;min-width:220px;padding:12px 14px;border-radius:12px;border:1px solid var(--border);background:#0a1126;color:var(--text)
  }
  .btn{
    padding:12px 14px;border-radius:12px;border:1px solid var(--border);background:#0a1126;color:var(--text);cursor:pointer
  }
  .btn:hover{outline:1px solid var(--accent)}
  main{padding:28px 20px}
  .grid{display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
  .card{
    background:linear-gradient(180deg,#0c142c 0%, #0a0f22 100%);
    border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);
    padding:18px;display:flex;flex-direction:column;min-height:180px;position:relative;overflow:hidden
  }
  .card h3{margin:0 0 6px 0;font-size:18px}
  .desc{color:var(--muted);font-size:14px;margin:0 0 12px 0}
  .badges{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:10px}
  .badge{font-size:12px;border:1px solid var(--border);background:#0b1225;color:#c9d5e8;padding:4px 8px;border-radius:999px}
  .actions{margin-top:auto;display:flex;gap:10px;flex-wrap:wrap}
  .act{
    display:inline-flex;align-items:center;gap:8px;padding:10px 12px;border-radius:12px;border:1px solid var(--border);
    background:#0b1225;color:#e6edf3;cursor:pointer
  }
  .act.primary{outline:2px solid var(--accent)}
  .act svg{width:18px;height:18px}
  footer{color:#9aa4b2;font-size:12px;margin:34px 0 10px;text-align:center}
  /* subtle accent strips */
  .stripe{position:absolute;inset:auto -40px 0 auto;height:6px;background:linear-gradient(90deg,var(--accent),var(--accent2));filter:blur(.4px)}
  .tile-1 .stripe{left:-40px;width:180px}
  .tile-2 .stripe{left:-20px;width:160px}
  .tile-3 .stripe{left:-60px;width:200px}
</style>
</head>
<body>
<header>
  <div class="wrap">
    <h1>KS4 Chemistry: Rates of Reaction</h1>
    <p class="sub">AQA 4.6.1–4.6.2 • Unit landing page (store + open all lesson HTMLs, revision, test, and feedback)</p>
    <div class="toolbar">
      <input id="search" type="search" placeholder="Search by lesson title, tag, or spec code…" aria-label="Search lessons">
      <button id="add" class="btn" title="Add a custom link tile (stored in your browser)">Quick Add Link</button>
      <button id="reset" class="btn" title="Remove any custom tiles">Reset Custom Tiles</button>
    </div>
  </div>
</header>

<main class="wrap">
  <div id="cards" class="grid" aria-live="polite"></div>
  <footer>Tip: rename the <em>href</em> values in the data list below to your actual filenames. Custom links are saved locally (no server needed).</footer>
</main>

<script>
  // ---- Configuration: edit the 'href' fields to your real filenames ----
  const coreResources = [
    {
      title: "1. Rates of Reaction",
      desc: "Intro to rate, measuring change over time, mean rate calculations.",
      href: "1-rates-of-reaction.html",
      tags: ["4.6.1.1","rate","graphs","mean rate"]
    },
    {
      title: "2. Factors Affecting Rates of Reaction",
      desc: "Overview of concentration, pressure, surface area, temperature, and catalysts.",
      href: "2-factors-affecting-rate.html",
      tags: ["4.6.1.2","overview","factors"]
    },
    {
      title: "3. Rates and Concentration",
      desc: "Practical focus: thiosulfate & HCl; proportionality and line of best fit.",
      href: "3-rates-and-concentration.html",
      tags: ["4.6.1.1","4.6.1.3","concentration","graphs"]
    },
    {
      title: "4. Rates and Surface Area",
      desc: "CaCO₃ + HCl experiments; comparing initial gradients fairly.",
      href: "4-rates-and-surface-area.html",
      tags: ["4.6.1.2","surface area","method"]
    },
    {
      title: "5. Rates and Temperature",
      desc: "Collision theory, Maxwell–Boltzmann ideas, effect of temperature on rate.",
      href: "5-rates-and-temperature.html",
      tags: ["4.6.1.3","temperature","Ea"]
    },
    {
      title: "6. Catalysts",
      desc: "How catalysts work; reaction profiles; enzymes as biological catalysts.",
      href: "6-catalysts.html",
      tags: ["4.6.1.4","catalyst","enzymes","reaction profile"]
    },
    {
      title: "7. Revision",
      desc: "Mixed questions, knowledge organiser, exam-style practice.",
      href: "7-revision.html",
      tags: ["revision","review"]
    },
    {
      title: "8. Test",
      desc: "Unit assessment (Paper-style).",
      href: "8-test.html",
      tags: ["assessment","test"]
    },
    {
      title: "Test Feedback & Follow-up",
      desc: "Model answers, explanations, and follow-up questions for the unit test.",
      href: "rates-feedback.html",
      tags: ["feedback","follow-up","answers"]
    }
  ];

  // ---- Optional: you can add custom links; they persist in localStorage ----
  const LS_KEY = "ks4-rates-custom-links";
  function getCustom(){ try { return JSON.parse(localStorage.getItem(LS_KEY) || "[]"); } catch { return []; } }
  function setCustom(arr){ localStorage.setItem(LS_KEY, JSON.stringify(arr)); }

  function makeIcon(){
    return `
      <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
        <path d="M4 7a3 3 0 0 1 3-3h6l5 5v9a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V7z" stroke="currentColor" stroke-width="1.4"/>
        <path d="M9 3v4a2 2 0 0 0 2 2h6" stroke="currentColor" stroke-width="1.4"/>
      </svg>`;
  }
  function makeOpenIcon(){
    return `
      <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
        <path d="M14 3h7v7" stroke="currentColor" stroke-width="1.6" />
        <path d="M21 3l-9 9" stroke="currentColor" stroke-width="1.6" />
        <path d="M12 7H6a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3v-6" stroke="currentColor" stroke-width="1.4"/>
      </svg>`;
  }

  function render(list){
    const container = document.getElementById('cards');
    container.innerHTML = "";
    list.forEach((r,i)=>{
      const tile = document.createElement('article');
      tile.className = "card tile-"+((i%3)+1);
      tile.dataset.tags = (r.tags||[]).join(" ").toLowerCase();
      tile.innerHTML = `
        <div class="stripe"></div>
        <h3>${r.title}</h3>
        <div class="badges">
          ${(r.tags||[]).slice(0,2).map(t=>`<span class="badge">${t}</span>`).join("")}
        </div>
        <p class="desc">${r.desc||""}</p>
        <div class="actions">
          <a class="act primary" href="${r.href}" target="_blank" rel="noopener">
            ${makeOpenIcon()} <span>Open</span>
          </a>
          ${r.extra ? `<a class="act" href="${r.extra}" target="_blank" rel="noopener">${makeIcon()} <span>Extra</span></a>` : "" }
        </div>
      `;
      container.appendChild(tile);
    });
  }

  function combined(){ return [...coreResources, ...getCustom()]; }

  // Search filter
  const search = document.getElementById('search');
  search.addEventListener('input', ()=>{
    const q = search.value.trim().toLowerCase();
    const cards = [...document.querySelectorAll('.card')];
    cards.forEach(c=>{
      const hay = (c.textContent + " " + (c.dataset.tags||"")).toLowerCase();
      c.style.display = hay.includes(q) ? "" : "none";
    });
  });

  // Add a custom tile
  document.getElementById('add').addEventListener('click', ()=>{
    const title = prompt("Tile title (e.g., 'Required Practical 5 – Rates'):");
    if(!title) return;
    const href = prompt("File name or URL (e.g., 'rp5-rates.html' or https://...):");
    if(!href) return;
    const desc = prompt("Short description (optional):") || "";
    const tags = prompt("Tags (space-separated, optional; e.g., 'practical 4.6.1.1')") || "";
    const custom = getCustom();
    custom.push({title, href, desc, tags: tags.split(/\s+/)});
    setCustom(custom);
    render(combined());
  });

  // Reset custom tiles
  document.getElementById('reset').addEventListener('click', ()=>{
    if(confirm("Remove all custom tiles?")) { localStorage.removeItem(LS_KEY); render(combined()); }
  });

  // Initial render
  render(combined());
</script>
</body>
</html>
