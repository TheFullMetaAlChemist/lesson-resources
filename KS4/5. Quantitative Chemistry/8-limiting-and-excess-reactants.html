<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GCSE Chemistry: Limiting Reactants</title>
    <style>
        :root {
            --primary: #3498db;
            --secondary: #2ecc71;
            --danger: #e74c3c;
            --warning: #f39c12;
            --dark: #2c3e50;
            --light: #ecf0f1;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary), #9b59b6);
            color: white;
            padding: 30px 0;
            text-align: center;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
        }
        
        header h1 {
            font-size: 36px;
            margin-bottom: 10px;
        }
        
        header p {
            font-size: 18px;
            opacity: 0.9;
        }
        
        nav {
            display: flex;
            justify-content: center;
            margin: 20px 0 30px;
            flex-wrap: wrap;
        }
        
        .nav-btn {
            background-color: white;
            color: var(--dark);
            padding: 10px 20px;
            margin: 5px;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: var(--shadow);
        }
        
        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }
        
        .nav-btn.active {
            background-color: var(--primary);
            color: white;
        }
        
        section {
            background-color: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
            display: none;
        }
        
        section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        h2 {
            color: var(--dark);
            margin-bottom: 20px;
            border-bottom: 2px solid var(--primary);
            padding-bottom: 10px;
        }
        
        h3 {
            color: var(--dark);
            margin: 25px 0 15px;
        }
        
        p {
            margin-bottom: 15px;
        }
        
        .info-box {
            background-color: #e3f2fd;
            border-left: 4px solid var(--primary);
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .example-box {
            background-color: #e8f5e9;
            border-left: 4px solid var(--secondary);
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .warning-box {
            background-color: #fff3e0;
            border-left: 4px solid var(--warning);
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .btn {
            background-color: var(--primary);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }
        
        .btn-success {
            background-color: var(--secondary);
        }
        
        .btn-success:hover {
            background-color: #27ae60;
        }
        
        .btn-danger {
            background-color: var(--danger);
        }
        
        .btn-danger:hover {
            background-color: #c0392b;
        }
        
        .answer-box {
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            display: none;
        }
        
        .correct {
            border-color: var(--secondary);
            background-color: rgba(46, 204, 113, 0.1);
        }
        
        .incorrect {
            border-color: var(--danger);
            background-color: rgba(231, 76, 60, 0.1);
        }
        
        .feedback {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            display: none;
        }
        
        .correct-feedback {
            background-color: rgba(46, 204, 113, 0.2);
            color: #27ae60;
        }
        
        .incorrect-feedback {
            background-color: rgba(231, 76, 60, 0.2);
            color: #c0392b;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        
        th {
            background-color: var(--primary);
            color: white;
        }
        
        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        
        .practice-level {
            display: none;
        }
        
        .practice-level.active {
            display: block;
        }
        
        .level-tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #ddd;
        }
        
        .level-tab {
            padding: 10px 20px;
            cursor: pointer;
            border: 1px solid transparent;
        }
        
        .level-tab.active {
            border: 1px solid #ddd;
            border-bottom: 1px solid white;
            border-radius: 5px 5px 0 0;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: -1px;
        }
        
        .question-container {
            margin-bottom: 30px;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 20px;
        }
        
        .hint {
            color: #7f8c8d;
            font-style: italic;
            display: none;
            margin-top: 10px;
            padding: 10px;
            background-color: #fafafa;
            border-left: 3px solid #95a5a6;
        }
        
        .step {
            display: none;
            margin: 10px 0;
            padding: 10px;
            background-color: #f9f9f9;
            border-radius: 5px;
        }
        
        .equation {
            font-family: 'Courier New', monospace;
            font-weight: bold;
            text-align: center;
            margin: 15px 0;
            font-size: 18px;
        }
        
        .timer {
            font-size: 24px;
            text-align: center;
            margin: 20px 0;
            font-weight: bold;
            color: var(--dark);
        }
        
        .score-display {
            font-size: 20px;
            text-align: center;
            margin: 20px 0;
            color: var(--dark);
        }
        
        .leaderboard {
            margin-top: 30px;
        }
        
        .leaderboard h3 {
            text-align: center;
        }
        
        .leaderboard-table {
            width: 80%;
            margin: 0 auto;
        }
        
        .game-container {
            text-align: center;
        }
        
        .game-question {
            font-size: 18px;
            margin: 20px 0;
        }
        
        .game-options {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }
        
        .game-option {
            background-color: white;
            border: 2px solid var(--primary);
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .game-option:hover {
            background-color: var(--primary);
            color: white;
        }
        
        .progress-container {
            width: 100%;
            background-color: #ddd;
            border-radius: 20px;
            margin: 20px 0;
            height: 20px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background-color: var(--primary);
            width: 0;
            transition: width 0.3s ease;
        }
        
        .molecule-container {
            display: flex;
            justify-content: center;
            gap: 50px;
            margin: 30px 0;
        }
        
        .molecule {
            position: relative;
            width: 100px;
            height: 100px;
            text-align: center;
        }
        
        .atom {
            position: absolute;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            color: white;
        }
        
        .reaction-arrow {
            display: flex;
            align-items: center;
            font-size: 30px;
            color: var(--dark);
        }
        
        .input-group {
            margin: 15px 0;
        }
        
        input[type="number"], input[type="text"] {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            width: 100%;
            max-width: 300px;
        }
        
        input[type="number"]:focus, input[type="text"]:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .molecule-visual {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .reactant, .product {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .chemical {
            font-size: 24px;
            margin-bottom: 10px;
        }
        
        .molecule-balls {
            display: flex;
            gap: 5px;
            margin-bottom: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .atom-ball {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-weight: bold;
        }
        
        .carbon {
            background-color: #333;
        }
        
        .hydrogen {
            background-color: #3498db;
        }
        
        .oxygen {
            background-color: #e74c3c;
        }
        
        .nitrogen {
            background-color: #9b59b6;
        }
        
        .reaction-arrow {
            font-size: 40px;
            margin: 0 20px;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            header {
                padding: 20px 0;
            }
            
            header h1 {
                font-size: 28px;
            }
            
            section {
                padding: 20px;
            }
            
            .molecule-container {
                flex-direction: column;
                align-items: center;
                gap: 20px;
            }
            
            .game-options {
                flex-direction: column;
            }
            
            .level-tabs {
                flex-direction: column;
            }
            
            .level-tab.active {
                border-radius: 0;
            }
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            z-index: 100;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            max-width: 500px;
            width: 80%;
            text-align: center;
            position: relative;
        }
        
        .close-modal {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
        }
        
        .congratulations {
            color: var(--primary);
            font-size: 24px;
            margin-bottom: 20px;
        }
        
        .name-input {
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Understanding Limiting Reactants</h1>
            <p>GCSE Chemistry - Chemical Calculations</p>
        </header>
        
        <nav>
            <button class="nav-btn active" data-section="introduction">Introduction</button>
            <button class="nav-btn" data-section="tutorial">Tutorial</button>
            <button class="nav-btn" data-section="practice">Practice</button>
            <button class="nav-btn" data-section="challenge">Challenge</button>
        </nav>
        
        <section id="introduction" class="active">
            <h2>Introduction to Limiting Reactants</h2>
            
            <p>In chemical reactions, reactants combine in specific ratios to form products. However, in real-world situations, we often don't have the exact amounts needed for all reactants to be completely used up.</p>
            
            <div class="info-box">
                <h3>Key Concept</h3>
                <p>The <strong>limiting reactant</strong> is the substance that is completely consumed in a chemical reaction and thus limits the amount of product that can be formed.</p>
            </div>
            
            <p>Think of it like baking cookies:</p>
            <ul>
                <li>If a recipe requires 2 eggs and 3 cups of flour to make 12 cookies</li>
                <li>But you only have 1 egg and 5 cups of flour</li>
                <li>You can only make 6 cookies because the eggs are the limiting factor</li>
                <li>You'll have 2 cups of flour left over (excess reactant)</li>
            </ul>
            
            <div class="molecule-visual">
                <div class="reactant">
                    <div class="chemical">Recipe</div>
                    <div class="molecule-balls">
                        <div class="atom-ball" style="background-color: #f1c40f;">E</div>
                        <div class="atom-ball" style="background-color: #f1c40f;">E</div>
                        <div class="atom-ball" style="background-color: #7f8c8d;">F</div>
                        <div class="atom-ball" style="background-color: #7f8c8d;">F</div>
                        <div class="atom-ball" style="background-color: #7f8c8d;">F</div>
                    </div>
                    <div>2 eggs + 3 cups flour</div>
                </div>
                
                <div class="reaction-arrow">‚Üí</div>
                
                <div class="product">
                    <div class="chemical">12 Cookies</div>
                    <div class="molecule-balls">
                        <div class="atom-ball" style="background-color: #e67e22;">üç™</div>
                        <div class="atom-ball" style="background-color: #e67e22;">üç™</div>
                        <div class="atom-ball" style="background-color: #e67e22;">üç™</div>
                        <div class="atom-ball" style="background-color: #e67e22;">üç™</div>
                        <div class="atom-ball" style="background-color: #e67e22;">üç™</div>
                        <div class="atom-ball" style="background-color: #e67e22;">üç™</div>
                        <div class="atom-ball" style="background-color: #e67e22;">üç™</div>
                        <div class="atom-ball" style="background-color: #e67e22;">üç™</div>
                        <div class="atom-ball" style="background-color: #e67e22;">üç™</div>
                        <div class="atom-ball" style="background-color: #e67e22;">üç™</div>
                        <div class="atom-ball" style="background-color: #e67e22;">üç™</div>
                        <div class="atom-ball" style="background-color: #e67e22;">üç™</div>
                    </div>
                </div>
            </div>
            
            <div class="molecule-visual">
                <div class="reactant">
                    <div class="chemical">Your Ingredients</div>
                    <div class="molecule-balls">
                        <div class="atom-ball" style="background-color: #f1c40f;">E</div>
                        <div class="atom-ball" style="background-color: #7f8c8d;">F</div>
                        <div class="atom-ball" style="background-color: #7f8c8d;">F</div>
                        <div class="atom-ball" style="background-color: #7f8c8d;">F</div>
                        <div class="atom-ball" style="background-color: #7f8c8d;">F</div>
                        <div class="atom-ball" style="background-color: #7f8c8d;">F</div>
                    </div>
                    <div>1 egg + 5 cups flour</div>
                </div>
                
                <div class="reaction-arrow">‚Üí</div>
                
                <div class="product">
                    <div class="chemical">6 Cookies</div>
                    <div class="molecule-balls">
                        <div class="atom-ball" style="background-color: #e67e22;">üç™</div>
                        <div class="atom-ball" style="background-color: #e67e22;">üç™</div>
                        <div class="atom-ball" style="background-color: #e67e22;">üç™</div>
                        <div class="atom-ball" style="background-color: #e67e22;">üç™</div>
                        <div class="atom-ball" style="background-color: #e67e22;">üç™</div>
                        <div class="atom-ball" style="background-color: #e67e22;">üç™</div>
                    </div>
                </div>
                
                <div class="reaction-arrow">+</div>
                
                <div class="product">
                    <div class="chemical">Leftover</div>
                    <div class="molecule-balls">
                        <div class="atom-ball" style="background-color: #7f8c8d;">F</div>
                        <div class="atom-ball" style="background-color: #7f8c8d;">F</div>
                    </div>
                    <div>2 cups flour</div>
                </div>
            </div>
            
            <div class="warning-box">
                <p><strong>Understanding limiting reactants is crucial because:</strong></p>
                <ul>
                    <li>It determines the maximum amount of product that can be formed</li>
                    <li>It helps in calculating reaction yields</li>
                    <li>It's essential for efficient use of chemicals in industry</li>
                    <li>It enables precise calculations in stoichiometry</li>
                </ul>
            </div>
            
            <p>In the next section, we'll explore how to identify the limiting reactant in chemical reactions and perform calculations to determine product yields.</p>
            
            <button class="btn" onclick="changeSection('tutorial')">Continue to Tutorial ‚Üí</button>
        </section>
        
        <section id="tutorial">
            <h2>Tutorial: Identifying Limiting Reactants</h2>
            
            <h3>Understanding Mole Ratios in Chemical Equations</h3>
            
            <p>Before we can identify limiting reactants, we need to understand how to use balanced chemical equations to determine the ratio of reactants and products in terms of moles.</p>
            
            <div class="example-box">
                <h3>Example: Methane Combustion</h3>
                <div class="equation">CH‚ÇÑ + 2O‚ÇÇ ‚Üí CO‚ÇÇ + 2H‚ÇÇO</div>
                
                <p>This balanced equation tells us that:</p>
                <ul>
                    <li>1 mole of methane (CH‚ÇÑ) reacts with 2 moles of oxygen (O‚ÇÇ)</li>
                    <li>To produce 1 mole of carbon dioxide (CO‚ÇÇ) and 2 moles of water (H‚ÇÇO)</li>
                </ul>
                
                <p>These ratios are crucial for determining the limiting reactant.</p>
            </div>
            
            <h3>Steps to Identify the Limiting Reactant</h3>
            
            <ol>
                <li>Write the balanced chemical equation</li>
                <li>Calculate the moles of each reactant present</li>
                <li>Determine how much product each reactant could produce (based on the mole ratios)</li>
                <li>The reactant that produces the least amount of product is the limiting reactant</li>
            </ol>
            
            <div class="example-box">
                <h3>Worked Example 1: Basic Calculation</h3>
                
                <p><strong>Problem:</strong> Consider the reaction of hydrogen and oxygen to form water:</p>
                <div class="equation">2H‚ÇÇ + O‚ÇÇ ‚Üí 2H‚ÇÇO</div>
                
                <p>If you have 6 moles of H‚ÇÇ and 4 moles of O‚ÇÇ, which is the limiting reactant?</p>
                
                <div class="answer-box" id="example1-solution">
                    <p><strong>Step 1:</strong> Understand the balanced equation.</p>
                    <p>2 moles of H‚ÇÇ react with 1 mole of O‚ÇÇ to produce 2 moles of H‚ÇÇO.</p>
                    
                    <p><strong>Step 2:</strong> Calculate how much product each reactant could make.</p>
                    
                    <p>For H‚ÇÇ:</p>
                    <div class="equation">6 mol H‚ÇÇ √ó (2 mol H‚ÇÇO / 2 mol H‚ÇÇ) = 6 mol H‚ÇÇO</div>
                    
                    <p>For O‚ÇÇ:</p>
                    <div class="equation">4 mol O‚ÇÇ √ó (2 mol H‚ÇÇO / 1 mol O‚ÇÇ) = 8 mol H‚ÇÇO</div>
                    
                    <p><strong>Step 3:</strong> Identify the limiting reactant.</p>
                    <p>H‚ÇÇ would produce 6 moles of H‚ÇÇO.</p>
                    <p>O‚ÇÇ would produce 8 moles of H‚ÇÇO.</p>
                    <p>Since H‚ÇÇ produces less product, it is the limiting reactant.</p>
                    
                    <p><strong>Step 4:</strong> Calculate the amount of product formed.</p>
                    <p>6 moles of H‚ÇÇO will be produced.</p>
                    
                    <p><strong>Step 5:</strong> Calculate excess reactant remaining.</p>
                    <p>O‚ÇÇ required to react with all H‚ÇÇ: 6 mol H‚ÇÇ √ó (1 mol O‚ÇÇ / 2 mol H‚ÇÇ) = 3 mol O‚ÇÇ</p>
                    <p>O‚ÇÇ remaining: 4 mol - 3 mol = 1 mol O‚ÇÇ</p>
                </div>
                
                <button class="btn" onclick="toggleVisibility('example1-solution')">Show/Hide Solution</button>
            </div>
            
            <h3>Converting Between Mass and Moles</h3>
            
            <p>In real chemical problems, we often work with masses rather than moles. To convert:</p>
            
            <div class="equation">Moles = Mass (g) √∑ Molar Mass (g/mol)</div>
            
            <div class="info-box">
                <p><strong>Molar Masses:</strong></p>
                <ul>
                    <li>H: 1.01 g/mol</li>
                    <li>C: 12.01 g/mol</li>
                    <li>O: 16.00 g/mol</li>
                    <li>N: 14.01 g/mol</li>
                </ul>
                <p>For compounds, add up the molar masses of all atoms.</p>
            </div>
            
            <div class="example-box">
                <h3>Worked Example 2: Mass to Mole Conversion</h3>
                
                <p><strong>Problem:</strong> Consider the reaction:</p>
                <div class="equation">C + O‚ÇÇ ‚Üí CO‚ÇÇ</div>
                
                <p>If you have 12 grams of carbon and 45 grams of oxygen gas, determine the limiting reactant and how much CO‚ÇÇ could be produced.</p>
                
                <div class="answer-box" id="example2-solution">
                    <p><strong>Step 1:</strong> Calculate the moles of each reactant.</p>
                    
                    <p>For carbon (C):</p>
                    <div class="equation">Moles of C = 12 g √∑ 12.01 g/mol = 1.00 mol</div>
                    
                    <p>For oxygen (O‚ÇÇ):</p>
                    <div class="equation">Molar mass of O‚ÇÇ = 2 √ó 16.00 g/mol = 32.00 g/mol</div>
                    <div class="equation">Moles of O‚ÇÇ = 45 g √∑ 32.00 g/mol = 1.41 mol</div>
                    
                    <p><strong>Step 2:</strong> Calculate how much product each reactant could make.</p>
                    
                    <p>For C:</p>
                    <div class="equation">1.00 mol C √ó (1 mol CO‚ÇÇ / 1 mol C) = 1.00 mol CO‚ÇÇ</div>
                    
                    <p>For O‚ÇÇ:</p>
                    <div class="equation">1.41 mol O‚ÇÇ √ó (1 mol CO‚ÇÇ / 1 mol O‚ÇÇ) = 1.41 mol CO‚ÇÇ</div>
                    
                    <p><strong>Step 3:</strong> Identify the limiting reactant.</p>
                    <p>C would produce 1.00 mol of CO‚ÇÇ.</p>
                    <p>O‚ÇÇ would produce 1.41 mol of CO‚ÇÇ.</p>
                    <p>Since C produces less product, it is the limiting reactant.</p>
                    
                    <p><strong>Step 4:</strong> Calculate the mass of product formed.</p>
                    <div class="equation">Molar mass of CO‚ÇÇ = 12.01 g/mol + 2(16.00 g/mol) = 44.01 g/mol</div>
                    <div class="equation">Mass of CO‚ÇÇ = 1.00 mol √ó 44.01 g/mol = 44.01 g</div>
                    
                    <p>Therefore, 44.01 g of CO‚ÇÇ will be produced.</p>
                </div>
                
                <button class="btn" onclick="toggleVisibility('example2-solution')">Show/Hide Solution</button>
            </div>
            
            <div class="example-box">
                <h3>Worked Example 3: Complex Problem</h3>
                
                <p><strong>Problem:</strong> Consider the reaction of aluminum with copper(II) sulfate:</p>
                <div class="equation">2Al + 3CuSO‚ÇÑ ‚Üí Al‚ÇÇ(SO‚ÇÑ)‚ÇÉ + 3Cu</div>
                
                <p>If you have 5.4 grams of aluminum and 30 grams of copper(II) sulfate, determine:</p>
                <ol>
                    <li>The limiting reactant</li>
                    <li>The mass of copper produced</li>
                    <li>The mass of excess reactant remaining</li>
                </ol>
                
                <div class="answer-box" id="example3-solution">
                    <p><strong>Step 1:</strong> Calculate the moles of each reactant.</p>
                    
                    <p>For aluminum (Al):</p>
                    <div class="equation">Molar mass of Al = 27.0 g/mol</div>
                    <div class="equation">Moles of Al = 5.4 g √∑ 27.0 g/mol = 0.20 mol</div>
                    
                    <p>For copper(II) sulfate (CuSO‚ÇÑ):</p>
                    <div class="equation">Molar mass of CuSO‚ÇÑ = 63.5 g/mol + 32.1 g/mol + 4(16.0 g/mol) = 159.6 g/mol</div>
                    <div class="equation">Moles of CuSO‚ÇÑ = 30 g √∑ 159.6 g/mol = 0.188 mol</div>
                    
                    <p><strong>Step 2:</strong> Calculate how much copper each reactant could produce.</p>
                    
                    <p>For Al:</p>
                    <div class="equation">0.20 mol Al √ó (3 mol Cu / 2 mol Al) = 0.30 mol Cu</div>
                    
                    <p>For CuSO‚ÇÑ:</p>
                    <div class="equation">0.188 mol CuSO‚ÇÑ √ó (3 mol Cu / 3 mol CuSO‚ÇÑ) = 0.188 mol Cu</div>
                    
                    <p><strong>Step 3:</strong> Identify the limiting reactant.</p>
                    <p>Al would produce 0.30 mol of Cu.</p>
                    <p>CuSO‚ÇÑ would produce 0.188 mol of Cu.</p>
                    <p>Since CuSO‚ÇÑ produces less product, it is the limiting reactant.</p>
                    
                    <p><strong>Step 4:</strong> Calculate the mass of copper produced.</p>
                    <div class="equation">Mass of Cu = 0.188 mol √ó 63.5 g/mol = 11.9 g</div>
                    
                    <p><strong>Step 5:</strong> Calculate excess reactant remaining.</p>
                    <div class="equation">Al required = 0.188 mol CuSO‚ÇÑ √ó (2 mol Al / 3 mol CuSO‚ÇÑ) = 0.125 mol Al</div>
                    <div class="equation">Al remaining = 0.20 mol - 0.125 mol = 0.075 mol</div>
                    <div class="equation">Mass of Al remaining = 0.075 mol √ó 27.0 g/mol = 2.0 g</div>
                </div>
                
                <button class="btn" onclick="toggleVisibility('example3-solution')">Show/Hide Solution</button>
            </div>
            
            <h3>Summary of Key Points</h3>
            
            <ul>
                <li>The limiting reactant is the reactant that is completely consumed in a reaction</li>
                <li>It limits the amount of product that can be formed</li>
                <li>To identify the limiting reactant, calculate how much product each reactant could produce</li>
                <li>The reactant that produces the least amount of product is the limiting reactant</li>
                <li>The excess reactant is partially consumed, with some remaining after the reaction</li>
            </ul>
            
            <p>Now that you understand the concepts and calculations, let's practice with some questions!</p>
            
            <button class="btn" onclick="changeSection('practice')">Continue to Practice ‚Üí</button>
        </section>
        
        <section id="practice">
            <h2>Practice Questions</h2>
            
            <p>Test your understanding of limiting reactants with these practice questions. Choose a difficulty level to begin.</p>
            
            <div class="level-tabs">
                <div class="level-tab active" data-level="beginner">Beginner</div>
                <div class="level-tab" data-level="intermediate">Intermediate</div>
                <div class="level-tab" data-level="advanced">Advanced</div>
            </div>
            
            <div id="beginner" class="practice-level active">
                <h3>Beginner Questions</h3>
                <p>These questions include step-by-step guidance to help you understand the process.</p>
                
                <div class="question-container">
                    <h4>Question 1</h4>
                    <p>Consider the reaction: 2H‚ÇÇ + O‚ÇÇ ‚Üí 2H‚ÇÇO</p>
                    <p>If you have 4 moles of H‚ÇÇ and 3 moles of O‚ÇÇ, which is the limiting reactant?</p>
                    
                    <div class="input-group">
                        <button class="btn" onclick="toggleVisibility('b-q1-guided')">Show Guided Steps</button>
                    </div>
                    
                    <div id="b-q1-guided" style="display: none; margin-top: 20px; border-left: 3px solid #3498db; padding-left: 15px;">
                        <h5>Step 1: Calculate how much H‚ÇÇO each reactant could produce.</h5>
                        <p>For H‚ÇÇ: Use the mole ratio from the balanced equation.</p>
                        <p>2 moles of H‚ÇÇ produces 2 moles of H‚ÇÇO, so...</p>
                        <div class="input-group">
                            <label>4 moles of H‚ÇÇ would produce how many moles of H‚ÇÇO?</label>
                            <input type="number" id="b-q1-step1-answer" step="0.1">
                            <button class="btn" onclick="checkNumericAnswer('b-q1-step1-answer', 4, 0.1, 'b-q1-step1-feedback')">Check</button>
                            <div class="feedback" id="b-q1-step1-feedback"></div>
                        </div>
                        
                        <h5 style="margin-top: 20px;">Step 2: Calculate how much H‚ÇÇO the other reactant could produce.</h5>
                        <p>For O‚ÇÇ: Use the mole ratio from the balanced equation.</p>
                        <p>1 mole of O‚ÇÇ produces 2 moles of H‚ÇÇO, so...</p>
                        <div class="input-group">
                            <label>3 moles of O‚ÇÇ would produce how many moles of H‚ÇÇO?</label>
                            <input type="number" id="b-q1-step2-answer" step="0.1">
                            <button class="btn" onclick="checkNumericAnswer('b-q1-step2-answer', 6, 0.1, 'b-q1-step2-feedback')">Check</button>
                            <div class="feedback" id="b-q1-step2-feedback"></div>
                        </div>
                        
                        <h5 style="margin-top: 20px;">Step 3: Compare the amounts and identify the limiting reactant.</h5>
                        <p>The reactant that produces the smaller amount of product is the limiting reactant.</p>
                        <div class="input-group">
                            <label>Based on your calculations, which reactant is limiting?</label>
                            <input type="text" id="b-q1-step3-answer">
                            <button class="btn" onclick="checkAnswer('b-q1-step3-answer', 'H‚ÇÇ', 'b-q1-step3-feedback')">Check</button>
                            <div class="feedback" id="b-q1-step3-feedback"></div>
                        </div>
                    </div>
                    
                    <div class="input-group" style="margin-top: 20px;">
                        <label for="b-q1-answer">Final answer - Enter the limiting reactant (H‚ÇÇ or O‚ÇÇ):</label>
                        <input type="text" id="b-q1-answer">
                        <button class="btn" onclick="checkAnswer('b-q1-answer', 'H‚ÇÇ', 'b-q1-feedback')">Check Answer</button>
                    </div>
                    
                    <div class="feedback" id="b-q1-feedback"></div>
                </div>
                
                <div class="question-container">
                    <h4>Question 2</h4>
                    <p>Consider the reaction: N‚ÇÇ + 3H‚ÇÇ ‚Üí 2NH‚ÇÉ</p>
                    <p>If you have 2 moles of N‚ÇÇ and 5 moles of H‚ÇÇ, how many moles of NH‚ÇÉ will be produced?</p>
                    
                    <div class="input-group">
                        <button class="btn" onclick="toggleVisibility('b-q2-guided')">Show Guided Steps</button>
                    </div>
                    
                    <div id="b-q2-guided" style="display: none; margin-top: 20px; border-left: 3px solid #3498db; padding-left: 15px;">
                        <h5>Step 1: Calculate how much NH‚ÇÉ each reactant could produce.</h5>
                        <p>For N‚ÇÇ: Use the mole ratio from the balanced equation.</p>
                        <p>1 mole of N‚ÇÇ produces 2 moles of NH‚ÇÉ, so...</p>
                        <div class="input-group">
                            <label>2 moles of N‚ÇÇ would produce how many moles of NH‚ÇÉ?</label>
                            <input type="number" id="b-q2-step1-answer" step="0.1">
                            <button class="btn" onclick="checkNumericAnswer('b-q2-step1-answer', 4, 0.1, 'b-q2-step1-feedback')">Check</button>
                            <div class="feedback" id="b-q2-step1-feedback"></div>
                        </div>
                        
                        <h5 style="margin-top: 20px;">Step 2: Calculate how much NH‚ÇÉ the other reactant could produce.</h5>
                        <p>For H‚ÇÇ: Use the mole ratio from the balanced equation.</p>
                        <p>3 moles of H‚ÇÇ produces 2 moles of NH‚ÇÉ, so...</p>
                        <div class="input-group">
                            <label>5 moles of H‚ÇÇ would produce how many moles of NH‚ÇÉ?</label>
                            <input type="number" id="b-q2-step2-answer" step="0.01">
                            <button class="btn" onclick="checkNumericAnswer('b-q2-step2-answer', 3.33, 0.01, 'b-q2-step2-feedback')">Check</button>
                            <div class="feedback" id="b-q2-step2-feedback"></div>
                        </div>
                        
                        <h5 style="margin-top: 20px;">Step 3: Identify the limiting reactant and determine the product amount.</h5>
                        <p>The reactant that produces the smaller amount of product is the limiting reactant.</p>
                        <div class="input-group">
                            <label>Based on your calculations, which reactant is limiting?</label>
                            <input type="text" id="b-q2-step3-answer">
                            <button class="btn" onclick="checkAnswer('b-q2-step3-answer', 'H‚ÇÇ', 'b-q2-step3-feedback')">Check</button>
                            <div class="feedback" id="b-q2-step3-feedback"></div>
                        </div>
                    </div>
                    
                    <div class="input-group" style="margin-top: 20px;">
                        <label for="b-q2-answer">Final answer - Enter the moles of NH‚ÇÉ produced:</label>
                        <input type="number" id="b-q2-answer" step="0.01">
                        <button class="btn" onclick="checkNumericAnswer('b-q2-answer', 3.33, 0.01, 'b-q2-feedback')">Check Answer</button>
                    </div>
                    
                    <div class="feedback" id="b-q2-feedback"></div>
                </div>
                
                <div class="question-container">
                    <h4>Question 3</h4>
                    <p>Consider the reaction: 2Na + Cl‚ÇÇ ‚Üí 2NaCl</p>
                    <p>If you have 46 grams of Na and 35.5 grams of Cl‚ÇÇ, which is the limiting reactant?</p>
                    <p>(Atomic masses: Na = 23 g/mol, Cl = 35.5 g/mol)</p>
                    
                    <div class="input-group">
                        <button class="btn" onclick="toggleVisibility('b-q3-guided')">Show Guided Steps</button>
                    </div>
                    
                    <div id="b-q3-guided" style="display: none; margin-top: 20px; border-left: 3px solid #3498db; padding-left: 15px;">
                        <h5>Step 1: Convert the masses to moles.</h5>
                        <p>Use the formula: moles = mass √∑ molar mass</p>
                        
                        <div class="input-group">
                            <label>How many moles of Na are in 46 grams?</label>
                            <input type="number" id="b-q3-step1-answer" step="0.01">
                            <button class="btn" onclick="checkNumericAnswer('b-q3-step1-answer', 2, 0.01, 'b-q3-step1-feedback')">Check</button>
                            <div class="feedback" id="b-q3-step1-feedback"></div>
                        </div>
                        
                        <div class="input-group" style="margin-top: 10px;">
                            <label>How many moles of Cl‚ÇÇ are in 35.5 grams? (Remember that Cl‚ÇÇ has a molar mass of 71 g/mol)</label>
                            <input type="number" id="b-q3-step2-answer" step="0.01">
                            <button class="btn" onclick="checkNumericAnswer('b-q3-step2-answer', 0.5, 0.01, 'b-q3-step2-feedback')">Check</button>
                            <div class="feedback" id="b-q3-step2-feedback"></div>
                        </div>
                        
                        <h5 style="margin-top: 20px;">Step 2: Calculate how much NaCl each reactant could produce.</h5>
                        
                        <div class="input-group">
                            <label>How many moles of NaCl could 2 moles of Na produce? (Use the balanced equation)</label>
                            <input type="number" id="b-q3-step3-answer" step="0.1">
                            <button class="btn" onclick="checkNumericAnswer('b-q3-step3-answer', 2, 0.1, 'b-q3-step3-feedback')">Check</button>
                            <div class="feedback" id="b-q3-step3-feedback"></div>
                        </div>
                        
                        <div class="input-group" style="margin-top: 10px;">
                            <label>How many moles of NaCl could 0.5 moles of Cl‚ÇÇ produce?</label>
                            <input type="number" id="b-q3-step4-answer" step="0.1">
                            <button class="btn" onclick="checkNumericAnswer('b-q3-step4-answer', 1, 0.1, 'b-q3-step4-feedback')">Check</button>
                            <div class="feedback" id="b-q3-step4-feedback"></div>
                        </div>
                        
                        <h5 style="margin-top: 20px;">Step 3: Identify the limiting reactant.</h5>
                        <p>The reactant that produces the smaller amount of product is the limiting reactant.</p>
                        
                        <div class="input-group">
                            <label>Based on your calculations, which reactant is limiting?</label>
                            <input type="text" id="b-q3-step5-answer">
                            <button class="btn" onclick="checkAnswer('b-q3-step5-answer', 'Cl‚ÇÇ', 'b-q3-step5-feedback')">Check</button>
                            <div class="feedback" id="b-q3-step5-feedback"></div>
                        </div>
                    </div>
                    
                    <div class="input-group" style="margin-top: 20px;">
                        <label for="b-q3-answer">Final answer - Enter the limiting reactant (Na or Cl‚ÇÇ):</label>
                        <input type="text" id="b-q3-answer">
                        <button class="btn" onclick="checkAnswer('b-q3-answer', 'Cl‚ÇÇ', 'b-q3-feedback')">Check Answer</button>
                    </div>
                    
                    <div class="feedback" id="b-q3-feedback"></div>
                </div>
            </div>
            
            <div id="intermediate" class="practice-level">
                <h3>Intermediate Questions</h3>
                <p>These questions have fewer hints and require more independent work.</p>
                
                <div class="question-container">
                    <h4>Question 1</h4>
                    <p>Consider the reaction: 4NH‚ÇÉ + 5O‚ÇÇ ‚Üí 4NO + 6H‚ÇÇO</p>
                    <p>If you have 17 grams of NH‚ÇÉ and 45 grams of O‚ÇÇ, determine:</p>
                    <ol>
                        <li>The limiting reactant</li>
                        <li>The mass of NO produced</li>
                    </ol>
                    <p>(Molar masses: NH‚ÇÉ = 17 g/mol, O‚ÇÇ = 32 g/mol, NO = 30 g/mol)</p>
                    
                    <div class="input-group">
                        <button class="btn" onclick="toggleVisibility('i-q1-guided')">Show Guided Steps</button>
                    </div>
                    
                    <div id="i-q1-guided" style="display: none; margin-top: 20px; border-left: 3px solid #2ecc71; padding-left: 15px;">
                        <h5>Step 1: Convert masses to moles.</h5>
                        <p>Use the formula: moles = mass √∑ molar mass</p>
                        
                        <div class="input-group">
                            <label>How many moles of NH‚ÇÉ are in 17 grams?</label>
                            <input type="number" id="i-q1-step1-answer" step="0.01">
                            <button class="btn" onclick="checkNumericAnswer('i-q1-step1-answer', 1, 0.01, 'i-q1-step1-feedback')">Check</button>
                            <div class="feedback" id="i-q1-step1-feedback"></div>
                        </div>
                        
                        <div class="input-group" style="margin-top: 10px;">
                            <label>How many moles of O‚ÇÇ are in 45 grams?</label>
                            <input type="number" id="i-q1-step2-answer" step="0.01">
                            <button class="btn" onclick="checkNumericAnswer('i-q1-step2-answer', 1.41, 0.01, 'i-q1-step2-feedback')">Check</button>
                            <div class="feedback" id="i-q1-step2-feedback"></div>
                        </div>
                        
                        <h5 style="margin-top: 20px;">Step 2: Determine how much product each reactant could make.</h5>
                        <p>Based on the balanced equation: 4NH‚ÇÉ + 5O‚ÇÇ ‚Üí 4NO + 6H‚ÇÇO</p>
                        
                        <div class="input-group">
                            <label>How many moles of NO could 1 mole of NH‚ÇÉ produce?</label>
                            <input type="number" id="i-q1-step3-answer" step="0.01">
                            <button class="btn" onclick="checkNumericAnswer('i-q1-step3-answer', 1, 0.01, 'i-q1-step3-feedback')">Check</button>
                            <div class="feedback" id="i-q1-step3-feedback"></div>
                        </div>
                        
                        <div class="input-group" style="margin-top: 10px;">
                            <label>How many moles of NO could 1.41 moles of O‚ÇÇ produce?</label>
                            <input type="number" id="i-q1-step4-answer" step="0.01">
                            <button class="btn" onclick="checkNumericAnswer('i-q1-step4-answer', 1.13, 0.01, 'i-q1-step4-feedback')">Check</button>
                            <div class="feedback" id="i-q1-step4-feedback"></div>
                            <div class="hint" style="display: none;" id="i-q1-step4-hint">
                                <p>Use this ratio: 5 moles of O‚ÇÇ produces 4 moles of NO.</p>
                                <p>So 1.41 moles of O‚ÇÇ √ó (4 moles NO √∑ 5 moles O‚ÇÇ) = 1.13 moles NO</p>
                            </div>
                            <button class="btn" style="margin-top: 5px;" onclick="toggleVisibility('i-q1-step4-hint')">Need help?</button>
                        </div>
                        
                        <h5 style="margin-top: 20px;">Step 3: Identify the limiting reactant.</h5>
                        <p>Compare the amounts of NO each reactant could produce.</p>
                        
                        <div class="input-group">
                            <label>Which reactant produces less NO and is therefore limiting?</label>
                            <input type="text" id="i-q1-step5-answer">
                            <button class="btn" onclick="checkAnswer('i-q1-step5-answer', 'O‚ÇÇ', 'i-q1-step5-feedback')">Check</button>
                            <div class="feedback" id="i-q1-step5-feedback"></div>
                        </div>
                        
                        <h5 style="margin-top: 20px;">Step 4: Calculate the mass of NO produced.</h5>
                        <p>Convert the moles of NO to grams using the molar mass.</p>
                        
                        <div class="input-group">
                            <label>How many grams of NO would be produced from 1.13 moles?</label>
                            <input type="number" id="i-q1-step6-answer" step="0.1">
                            <button class="btn" onclick="checkNumericAnswer('i-q1-step6-answer', 33.9, 0.1, 'i-q1-step6-feedback')">Check</button>
                            <div class="feedback" id="i-q1-step6-feedback"></div>
                        </div>
                    </div>
                    
                    <div class="input-group" style="margin-top: 20px;">
                        <label for="i-q1-answer1">Limiting reactant (NH‚ÇÉ or O‚ÇÇ):</label>
                        <input type="text" id="i-q1-answer1">
                    </div>
                    
                    <div class="input-group">
                        <label for="i-q1-answer2">Mass of NO produced (g):</label>
                        <input type="number" id="i-q1-answer2" step="0.1">
                    </div>
                    
                    <button class="btn" onclick="checkIntermediateQ1()">Check Answers</button>
                    
                    <div class="feedback" id="i-q1-feedback"></div>
                </div>
                
                <div class="question-container">
                    <h4>Question 2</h4>
                    <p>Consider the reaction: 2C‚ÇÇH‚ÇÜ + 7O‚ÇÇ ‚Üí 4CO‚ÇÇ + 6H‚ÇÇO</p>
                    <p>If you react 6.0 grams of C‚ÇÇH‚ÇÜ with 25.0 grams of O‚ÇÇ, how many grams of CO‚ÇÇ will be produced?</p>
                    <p>(Molar masses: C‚ÇÇH‚ÇÜ = 30.0 g/mol, O‚ÇÇ = 32.0 g/mol, CO‚ÇÇ = 44.0 g/mol)</p>
                    
                    <div class="input-group">
                        <button class="btn" onclick="toggleVisibility('i-q2-guided')">Show Guided Steps</button>
                    </div>
                    
                    <div id="i-q2-guided" style="display: none; margin-top: 20px; border-left: 3px solid #2ecc71; padding-left: 15px;">
                        <h5>Step 1: Convert masses to moles.</h5>
                        
                        <div class="input-group">
                            <label>How many moles of C‚ÇÇH‚ÇÜ are in 6.0 grams?</label>
                            <input type="number" id="i-q2-step1-answer" step="0.01">
                            <button class="btn" onclick="checkNumericAnswer('i-q2-step1-answer', 0.2, 0.01, 'i-q2-step1-feedback')">Check</button>
                            <div class="feedback" id="i-q2-step1-feedback"></div>
                        </div>
                        
                        <div class="input-group" style="margin-top: 10px;">
                            <label>How many moles of O‚ÇÇ are in 25.0 grams?</label>
                            <input type="number" id="i-q2-step2-answer" step="0.01">
                            <button class="btn" onclick="checkNumericAnswer('i-q2-step2-answer', 0.78, 0.01, 'i-q2-step2-feedback')">Check</button>
                            <div class="feedback" id="i-q2-step2-feedback"></div>
                        </div>
                        
                        <h5 style="margin-top: 20px;">Step 2: Determine how much CO‚ÇÇ each reactant could produce.</h5>
                        
                        <div class="input-group">
                            <label>How many moles of CO‚ÇÇ could 0.2 moles of C‚ÇÇH‚ÇÜ produce?</label>
                            <input type="number" id="i-q2-step3-answer" step="0.01">
                            <button class="btn" onclick="checkNumericAnswer('i-q2-step3-answer', 0.4, 0.01, 'i-q2-step3-feedback')">Check</button>
                            <div class="feedback" id="i-q2-step3-feedback"></div>
                            <div class="hint" style="display: none;" id="i-q2-step3-hint">
                                <p>Use the ratio from the balanced equation: 2 moles of C‚ÇÇH‚ÇÜ produces 4 moles of CO‚ÇÇ</p>
                                <p>So 0.2 moles of C‚ÇÇH‚ÇÜ √ó (4 moles CO‚ÇÇ √∑ 2 moles C‚ÇÇH‚ÇÜ) = 0.4 moles CO‚ÇÇ</p>
                            </div>
                            <button class="btn" style="margin-top: 5px;" onclick="toggleVisibility('i-q2-step3-hint')">Need help?</button>
                        </div>
                        
                        <div class="input-group" style="margin-top: 10px;">
                            <label>How many moles of CO‚ÇÇ could 0.78 moles of O‚ÇÇ produce?</label>
                            <input type="number" id="i-q2-step4-answer" step="0.01">
                            <button class="btn" onclick="checkNumericAnswer('i-q2-step4-answer', 0.45, 0.01, 'i-q2-step4-feedback')">Check</button>
                            <div class="feedback" id="i-q2-step4-feedback"></div>
                            <div class="hint" style="display: none;" id="i-q2-step4-hint">
                                <p>Use the ratio from the balanced equation: 7 moles of O‚ÇÇ produces 4 moles of CO‚ÇÇ</p>
                                <p>So 0.78 moles of O‚ÇÇ √ó (4 moles CO‚ÇÇ √∑ 7 moles O‚ÇÇ) = 0.45 moles CO‚ÇÇ</p>
                            </div>
                            <button class="btn" style="margin-top: 5px;" onclick="toggleVisibility('i-q2-step4-hint')">Need help?</button>
                        </div>
                        
                        <h5 style="margin-top: 20px;">Step 3: Identify the limiting reactant.</h5>
                        
                        <div class="input-group">
                            <label>Which reactant produces less CO‚ÇÇ and is therefore limiting?</label>
                            <input type="text" id="i-q2-step5-answer">
                            <button class="btn" onclick="checkAnswer('i-q2-step5-answer', 'C‚ÇÇH‚ÇÜ', 'i-q2-step5-feedback')">Check</button>
                            <div class="feedback" id="i-q2-step5-feedback"></div>
                        </div>
                        
                        <h5 style="margin-top: 20px;">Step 4: Calculate the mass of CO‚ÇÇ produced.</h5>
                        
                        <div class="input-group">
                            <label>How many grams of CO‚ÇÇ would be produced from 0.4 moles?</label>
                            <input type="number" id="i-q2-step6-answer" step="0.1">
                            <button class="btn" onclick="checkNumericAnswer('i-q2-step6-answer', 17.6, 0.1, 'i-q2-step6-feedback')">Check</button>
                            <div class="feedback" id="i-q2-step6-feedback"></div>
                        </div>
                    </div>
                    
                    <div class="input-group" style="margin-top: 20px;">
                        <label for="i-q2-answer">Mass of CO‚ÇÇ produced (g):</label>
                        <input type="number" id="i-q2-answer" step="0.1">
                        <button class="btn" onclick="checkNumericAnswer('i-q2-answer', 17.6, 0.1, 'i-q2-feedback')">Check Answer</button>
                    </div>
                    
                    <div class="feedback" id="i-q2-feedback"></div>
                </div>
                
                <div class="question-container">
                    <h4>Question 3</h4>
                    <p>Consider the reaction: 4Fe + 3O‚ÇÇ ‚Üí 2Fe‚ÇÇO‚ÇÉ</p>
                    <p>If you have 11.2 grams of Fe and 6.4 grams of O‚ÇÇ, calculate:</p>
                    <ol>
                        <li>The limiting reactant</li>
                        <li>The mass of Fe‚ÇÇO‚ÇÉ produced</li>
                        <li>The mass of excess reactant remaining after the reaction</li>
                    </ol>
                    <p>(Molar masses: Fe = 56 g/mol, O‚ÇÇ = 32 g/mol, Fe‚ÇÇO‚ÇÉ = 160 g/mol)</p>
                    
                    <div class="input-group">
                        <button class="btn" onclick="toggleVisibility('i-q3-guided')">Show Guided Steps</button>
                    </div>
                    
                    <div id="i-q3-guided" style="display: none; margin-top: 20px; border-left: 3px solid #2ecc71; padding-left: 15px;">
                        <h5>Step 1: Convert masses to moles.</h5>
                        
                        <div class="input-group">
                            <label>How many moles of Fe are in 11.2 grams?</label>
                            <input type="number" id="i-q3-step1-answer" step="0.01">
                            <button class="btn" onclick="checkNumericAnswer('i-q3-step1-answer', 0.2, 0.01, 'i-q3-step1-feedback')">Check</button>
                            <div class="feedback" id="i-q3-step1-feedback"></div>
                        </div>
                        
                        <div class="input-group" style="margin-top: 10px;">
                            <label>How many moles of O‚ÇÇ are in 6.4 grams?</label>
                            <input type="number" id="i-q3-step2-answer" step="0.01">
                            <button class="btn" onclick="checkNumericAnswer('i-q3-step2-answer', 0.2, 0.01, 'i-q3-step2-feedback')">Check</button>
                            <div class="feedback" id="i-q3-step2-feedback"></div>
                        </div>
                        
                        <h5 style="margin-top: 20px;">Step 2: Determine how much Fe‚ÇÇO‚ÇÉ each reactant could produce.</h5>
                        
                        <div class="input-group">
                            <label>How many moles of Fe‚ÇÇO‚ÇÉ could 0.2 moles of Fe produce?</label>
                            <input type="number" id="i-q3-step3-answer" step="0.01">
                            <button class="btn" onclick="checkNumericAnswer('i-q3-step3-answer', 0.1, 0.01, 'i-q3-step3-feedback')">Check</button>
                            <div class="feedback" id="i-q3-step3-feedback"></div>
                            <div class="hint" style="display: none;" id="i-q3-step3-hint">
                                <p>Use the ratio from the balanced equation: 4 moles of Fe produces 2 moles of Fe‚ÇÇO‚ÇÉ</p>
                                <p>So 0.2 moles of Fe √ó (2 moles Fe‚ÇÇO‚ÇÉ √∑ 4 moles Fe) = 0.1 moles Fe‚ÇÇO‚ÇÉ</p>
                            </div>
                            <button class="btn" style="margin-top: 5px;" onclick="toggleVisibility('i-q3-step3-hint')">Need help?</button>
                        </div>
                        
                        <div class="input-group" style="margin-top: 10px;">
                            <label>How many moles of Fe‚ÇÇO‚ÇÉ could 0.2 moles of O‚ÇÇ produce?</label>
                            <input type="number" id="i-q3-step4-answer" step="0.01">
                            <button class="btn" onclick="checkNumericAnswer('i-q3-step4-answer', 0.13, 0.01, 'i-q3-step4-feedback')">Check</button>
                            <div class="feedback" id="i-q3-step4-feedback"></div>
                            <div class="hint" style="display: none;" id="i-q3-step4-hint">
                                <p>Use the ratio from the balanced equation: 3 moles of O‚ÇÇ produces 2 moles of Fe‚ÇÇO‚ÇÉ</p>
                                <p>So 0.2 moles of O‚ÇÇ √ó (2 moles Fe‚ÇÇO‚ÇÉ √∑ 3 moles O‚ÇÇ) = 0.13 moles Fe‚ÇÇO‚ÇÉ</p>
                            </div>
                            <button class="btn" style="margin-top: 5px;" onclick="toggleVisibility('i-q3-step4-hint')">Need help?</button>
                        </div>
                        
                        <h5 style="margin-top: 20px;">Step 3: Identify the limiting reactant.</h5>
                        
                        <div class="input-group">
                            <label>Which reactant produces less Fe‚ÇÇO‚ÇÉ and is therefore limiting?</label>
                            <input type="text" id="i-q3-step5-answer">
                            <button class="btn" onclick="checkAnswer('i-q3-step5-answer', 'Fe', 'i-q3-step5-feedback')">Check</button>
                            <div class="feedback" id="i-q3-step5-feedback"></div>
                        </div>
                        
                        <h5 style="margin-top: 20px;">Step 4: Calculate the mass of Fe‚ÇÇO‚ÇÉ produced.</h5>
                        
                        <div class="input-group">
                            <label>How many grams of Fe‚ÇÇO‚ÇÉ would be produced from 0.1 moles?</label>
                            <input type="number" id="i-q3-step6-answer" step="0.1">
                            <button class="btn" onclick="checkNumericAnswer('i-q3-step6-answer', 16, 0.1, 'i-q3-step6-feedback')">Check</button>
                            <div class="feedback" id="i-q3-step6-feedback"></div>
                        </div>
                        
                        <h5 style="margin-top: 20px;">Step 5: Calculate how much O‚ÇÇ is used in the reaction.</h5>
                        
                        <div class="input-group">
                            <label>How many moles of O‚ÇÇ are needed to react with 0.2 moles of Fe?</label>
                            <input type="number" id="i-q3-step7-answer" step="0.01">
                            <button class="btn" onclick="checkNumericAnswer('i-q3-step7-answer', 0.15, 0.01, 'i-q3-step7-feedback')">Check</button>
                            <div class="feedback" id="i-q3-step7-feedback"></div>
                            <div class="hint" style="display: none;" id="i-q3-step7-hint">
                                <p>Use the ratio from the balanced equation: 4 moles of Fe requires 3 moles of O‚ÇÇ</p>
                                <p>So 0.2 moles of Fe √ó (3 moles O‚ÇÇ √∑ 4 moles Fe) = 0.15 moles O‚ÇÇ</p>
                            </div>
                            <button class="btn" style="margin-top: 5px;" onclick="toggleVisibility('i-q3-step7-hint')">Need help?</button>
                        </div>
                        
                        <h5 style="margin-top: 20px;">Step 6: Calculate the mass of excess O‚ÇÇ remaining.</h5>
                        
                        <div class="input-group">
                            <label>How many moles of O‚ÇÇ remain after the reaction?</label>
                            <input type="number" id="i-q3-step8-answer" step="0.01">
                            <button class="btn" onclick="checkNumericAnswer('i-q3-step8-answer', 0.05, 0.01, 'i-q3-step8-feedback')">Check</button>
                            <div class="feedback" id="i-q3-step8-feedback"></div>
                        </div>
                        
                        <div class="input-group" style="margin-top: 10px;">
                            <label>How many grams of O‚ÇÇ remain after the reaction?</label>
                            <input type="number" id="i-q3-step9-answer" step="0.1">
                            <button class="btn" onclick="checkNumericAnswer('i-q3-step9-answer', 1.6, 0.1, 'i-q3-step9-feedback')">Check</button>
                            <div class="feedback" id="i-q3-step9-feedback"></div>
                        </div>
                    </div>
                    
                    <div class="input-group" style="margin-top: 20px;">
                        <label for="i-q3-answer1">Limiting reactant (Fe or O‚ÇÇ):</label>
                        <input type="text" id="i-q3-answer1">
                        <button class="btn" onclick="checkAnswer('i-q3-answer1', 'Fe', 'i-q3-feedback1')">Check</button>
                        <div class="feedback" id="i-q3-feedback1"></div>
                    </div>
                    
                    <div class="input-group">
                        <label for="i-q3-answer2">Mass of Fe‚ÇÇO‚ÇÉ produced (g):</label>
                        <input type="number" id="i-q3-answer2" step="0.1">
                        <button class="btn" onclick="checkNumericAnswer('i-q3-answer2', 16, 0.1, 'i-q3-feedback2')">Check</button>
                        <div class="feedback" id="i-q3-feedback2"></div>
                    </div>
                    
                    <div class="input-group">
                        <label for="i-q3-answer3">Mass of excess reactant remaining (g):</label>
                        <input type="number" id="i-q3-answer3" step="0.1">
                        <button class="btn" onclick="checkNumericAnswer('i-q3-answer3', 1.6, 0.1, 'i-q3-feedback3')">Check</button>
                        <div class="feedback" id="i-q3-feedback3"></div>
                    </div>
                </div>
            </div>
            
            <div id="advanced" class="practice-level">
                <h3>Advanced Questions</h3>
                <p>These questions require application of concepts with minimal support.</p>
                
                <div class="question-container">
                    <h4>Question 1</h4>
                    <p>In the production of ammonia via the Haber process: N‚ÇÇ + 3H‚ÇÇ ‚Üí 2NH‚ÇÉ</p>
                    <p>A mixture containing 100 g of nitrogen and 25 g of hydrogen is reacted. Calculate:</p>
                    <ol>
                        <li>The limiting reactant</li>
                        <li>The maximum mass of ammonia that can be produced</li>
                        <li>The mass and identity of the excess reactant remaining</li>
                    </ol>
                    <p>(Molar masses: N‚ÇÇ = 28 g/mol, H‚ÇÇ = 2 g/mol, NH‚ÇÉ = 17 g/mol)</p>
                    
                    <div class="input-group">
                        <label for="a-q1-answer1">Limiting reactant (N‚ÇÇ or H‚ÇÇ):</label>
                        <input type="text" id="a-q1-answer1">
                        <button class="btn" onclick="checkAnswer('a-q1-answer1', 'H‚ÇÇ', 'a-q1-feedback1')">Check</button>
                        <div class="feedback" id="a-q1-feedback1"></div>
                    </div>
                    
                    <div class="input-group">
                        <label for="a-q1-answer2">Maximum mass of NH‚ÇÉ (g):</label>
                        <input type="number" id="a-q1-answer2" step="0.1">
                        <button class="btn" onclick="checkNumericAnswer('a-q1-answer2', 121.25, 1, 'a-q1-feedback2')">Check</button>
                        <div class="feedback" id="a-q1-feedback2"></div>
                    </div>
                    
                    <div class="input-group">
                        <label for="a-q1-answer3">Mass of excess reactant remaining (g):</label>
                        <input type="number" id="a-q1-answer3" step="0.1">
                        <button class="btn" onclick="checkNumericAnswer('a-q1-answer3', 82.5, 1, 'a-q1-feedback3')">Check</button>
                        <div class="feedback" id="a-q1-feedback3"></div>
                    </div>
                </div>
                
                <div class="question-container">
                    <h4>Question 2</h4>
                    <p>In the combustion of propane: C‚ÇÉH‚Çà + 5O‚ÇÇ ‚Üí 3CO‚ÇÇ + 4H‚ÇÇO</p>
                    <p>A 4.4 g sample of propane is burned in 18.4 g of oxygen. Calculate:</p>
                    <ol>
                        <li>The limiting reactant</li>
                        <li>The mass of CO‚ÇÇ produced</li>
                        <li>The mass of H‚ÇÇO produced</li>
                    </ol>
                    <p>(Molar masses: C‚ÇÉH‚Çà = 44 g/mol, O‚ÇÇ = 32 g/mol, CO‚ÇÇ = 44 g/mol, H‚ÇÇO = 18 g/mol)</p>
                    
                    <div class="input-group">
                        <label for="a-q2-answer1">Limiting reactant (C‚ÇÉH‚Çà or O‚ÇÇ):</label>
                        <input type="text" id="a-q2-answer1">
                        <button class="btn" onclick="checkAnswer('a-q2-answer1', 'C‚ÇÉH‚Çà', 'a-q2-feedback1')">Check</button>
                        <div class="feedback" id="a-q2-feedback1"></div>
                    </div>
                    
                    <div class="input-group">
                        <label for="a-q2-answer2">Mass of CO‚ÇÇ produced (g):</label>
                        <input type="number" id="a-q2-answer2" step="0.1">
                        <button class="btn" onclick="checkNumericAnswer('a-q2-answer2', 13.2, 0.1, 'a-q2-feedback2')">Check</button>
                        <div class="feedback" id="a-q2-feedback2"></div>
                    </div>
                    
                    <div class="input-group">
                        <label for="a-q2-answer3">Mass of H‚ÇÇO produced (g):</label>
                        <input type="number" id="a-q2-answer3" step="0.1">
                        <button class="btn" onclick="checkNumericAnswer('a-q2-answer3', 7.2, 0.1, 'a-q2-feedback3')">Check</button>
                        <div class="feedback" id="a-q2-feedback3"></div>
                    </div>
                </div>
                
                <div class="question-container">
                    <h4>Question 3</h4>
                    <p>The reaction between aluminum and iron(III) oxide in thermite reactions produces aluminum oxide and iron:</p>
                    <div class="equation">2Al + Fe‚ÇÇO‚ÇÉ ‚Üí Al‚ÇÇO‚ÇÉ + 2Fe</div>
                    <p>A mixture of 10.8 g of aluminum and 65.9 g of iron(III) oxide is used in a thermite reaction. Calculate:</p>
                    <ol>
                        <li>The limiting reactant</li>
                        <li>The mass of iron produced</li>
                        <li>The mass of aluminum oxide produced</li>
                        <li>The mass of excess reactant remaining</li>
                    </ol>
                    <p>(Molar masses: Al = 27 g/mol, Fe‚ÇÇO‚ÇÉ = 159.7 g/mol, Al‚ÇÇO‚ÇÉ = 102 g/mol, Fe = 55.8 g/mol)</p>
                    
                    <div class="input-group">
                        <label for="a-q3-answer1">Limiting reactant (Al or Fe‚ÇÇO‚ÇÉ):</label>
                        <input type="text" id="a-q3-answer1">
                        <button class="btn" onclick="checkAnswer('a-q3-answer1', 'Al', 'a-q3-feedback1')">Check</button>
                        <div class="feedback" id="a-q3-feedback1"></div>
                    </div>
                    
                    <div class="input-group">
                        <label for="a-q3-answer2">Mass of Fe produced (g):</label>
                        <input type="number" id="a-q3-answer2" step="0.1">
                        <button class="btn" onclick="checkNumericAnswer('a-q3-answer2', 22.3, 0.1, 'a-q3-feedback2')">Check</button>
                        <div class="feedback" id="a-q3-feedback2"></div>
                    </div>
                    
                    <div class="input-group">
                        <label for="a-q3-answer3">Mass of Al‚ÇÇO‚ÇÉ produced (g):</label>
                        <input type="number" id="a-q3-answer3" step="0.1">
                        <button class="btn" onclick="checkNumericAnswer('a-q3-answer3', 20.4, 0.1, 'a-q3-feedback3')">Check</button>
                        <div class="feedback" id="a-q3-feedback3"></div>
                    </div>
                    
                    <div class="input-group">
                        <label for="a-q3-answer4">Mass of excess reactant remaining (g):</label>
                        <input type="number" id="a-q3-answer4" step="0.1">
                        <button class="btn" onclick="checkNumericAnswer('a-q3-answer4', 24.8, 0.1, 'a-q3-feedback4')">Check</button>
                        <div class="feedback" id="a-q3-feedback4"></div>
                    </div>
                </div>
            </div>
            
            <button class="btn" onclick="changeSection('challenge')">Continue to Challenge ‚Üí</button>
        </section>
        
        <section id="challenge">
            <h2>Limiting Reactants Challenge</h2>
            
            <p>Test your knowledge and speed with this timed challenge! Answer as many questions correctly as you can within the time limit.</p>
            
            <div class="info-box">
                <h3>How to Play</h3>
                <ul>
                    <li>You have 3 minutes to answer as many questions as possible</li>
                    <li>Each correct answer earns you points</li>
                    <li>Beginner questions: 1 point</li>
                    <li>Intermediate questions: 2 points</li>
                    <li>Advanced questions: 3 points</li>
                    <li>Try to get the highest score possible!</li>
                </ul>
            </div>
            
            <div class="game-container">
                <div class="timer" id="game-timer">3:00</div>
                <div class="score-display">Score: <span id="current-score">0</span></div>
                
                <div class="progress-container">
                    <div class="progress-bar" id="time-progress"></div>
                </div>
                
                <div id="game-question" class="game-question">
                    <p>Press "Start Challenge" to begin!</p>
                </div>
                
                <div id="game-options" class="game-options">
                    <!-- Options will be populated here -->
                </div>
                
                <div class="feedback" id="game-feedback"></div>
                
                <button class="btn btn-success" id="start-btn" onclick="startGame()">Start Challenge</button>
                <button class="btn" id="next-btn" onclick="nextQuestion()" style="display: none;">Next Question</button>
            </div>
            
            <div class="leaderboard">
                <h3>Leaderboard</h3>
                <table class="leaderboard-table">
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Name</th>
                            <th>Score</th>
                            <th>Date</th>
                        </tr>
                    </thead>
                    <tbody id="leaderboard-body">
                        <!-- Leaderboard entries will be populated here -->
                    </tbody>
                </table>
            </div>
            
            <button class="btn" onclick="changeSection('introduction')">Back to Introduction</button>
        </section>
    </div>
    
    <div class="modal" id="game-over-modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <h2 class="congratulations">Challenge Complete!</h2>
            <p>Your final score: <span id="final-score">0</span></p>
            <div class="name-input">
                <label for="player-name">Enter your name for the leaderboard:</label>
                <input type="text" id="player-name" placeholder="Your Name">
            </div>
            <button class="btn btn-success" onclick="saveScore()">Save Score</button>
        </div>
    </div>
    
    <script>
        // Navigation
        function changeSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(sectionId).classList.add('active');
            
            // Update navigation buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.querySelector(`.nav-btn[data-section="${sectionId}"]`).classList.add('active');
            
            // Scroll to top
            window.scrollTo(0, 0);
        }
        
        // Practice level tabs
        document.querySelectorAll('.level-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                const level = this.getAttribute('data-level');
                
                // Update tabs
                document.querySelectorAll('.level-tab').forEach(t => {
                    t.classList.remove('active');
                });
                this.classList.add('active');
                
                // Update content
                document.querySelectorAll('.practice-level').forEach(l => {
                    l.classList.remove('active');
                });
                document.getElementById(level).classList.add('active');
            });
        });
        
        // Toggle visibility
        function toggleVisibility(elementId) {
            const element = document.getElementById(elementId);
            if (element.style.display === 'block') {
                element.style.display = 'none';
            } else {
                element.style.display = 'block';
            }
        }
        
        // Show steps sequentially
        function showSteps(firstStepId) {
            const firstStep = document.getElementById(firstStepId);
            firstStep.style.display = 'block';
        }
        
        // Check text answer
        function checkAnswer(inputId, correctAnswer, feedbackId) {
            const userAnswer = document.getElementById(inputId).value.trim();
            const feedbackElement = document.getElementById(feedbackId);
            
            // Normalize answers: replace subscripts with regular numbers
            const normalizedUserAnswer = userAnswer.toLowerCase()
                .replace(/‚ÇÇ/g, '2')
                .replace(/‚ÇÉ/g, '3')
                .replace(/‚ÇÑ/g, '4')
                .replace(/‚ÇÖ/g, '5')
                .replace(/‚ÇÜ/g, '6')
                .replace(/‚Çà/g, '8');
                
            const normalizedCorrectAnswer = correctAnswer.toLowerCase()
                .replace(/‚ÇÇ/g, '2')
                .replace(/‚ÇÉ/g, '3')
                .replace(/‚ÇÑ/g, '4')
                .replace(/‚ÇÖ/g, '5')
                .replace(/‚ÇÜ/g, '6')
                .replace(/‚Çà/g, '8');
            
            if (normalizedUserAnswer === normalizedCorrectAnswer) {
                feedbackElement.textContent = "Correct! Well done.";
                feedbackElement.className = "feedback correct-feedback";
            } else {
                feedbackElement.textContent = "Incorrect. Try again.";
                feedbackElement.className = "feedback incorrect-feedback";
            }
            
            feedbackElement.style.display = "block";
        }
        
        // Check numeric answer
        function checkNumericAnswer(inputId, correctAnswer, tolerance, feedbackId) {
            const userAnswer = parseFloat(document.getElementById(inputId).value);
            const feedbackElement = document.getElementById(feedbackId);
            
            if (!isNaN(userAnswer) && Math.abs(userAnswer - correctAnswer) <= tolerance) {
                feedbackElement.textContent = "Correct! Well done.";
                feedbackElement.className = "feedback correct-feedback";
            } else {
                feedbackElement.textContent = "Incorrect. Try again.";
                feedbackElement.className = "feedback incorrect-feedback";
            }
            
            feedbackElement.style.display = "block";
        }
        
        // Check intermediate question 1
        function checkIntermediateQ1() {
            let answer1 = document.getElementById('i-q1-answer1').value.trim();
            const answer2 = parseFloat(document.getElementById('i-q1-answer2').value);
            const feedbackElement = document.getElementById('i-q1-feedback');
            
            let correct = true;
            let feedback = "";
            
            // Normalize answer1: replace subscripts with regular numbers
            answer1 = answer1.toLowerCase()
                .replace(/‚ÇÇ/g, '2')
                .replace(/‚ÇÉ/g, '3')
                .replace(/‚ÇÑ/g, '4')
                .replace(/‚ÇÖ/g, '5')
                .replace(/‚ÇÜ/g, '6')
                .replace(/‚Çà/g, '8');
            
            // Check limiting reactant
            if (answer1 !== "o2") {
                correct = false;
                feedback += "The limiting reactant is incorrect. ";
            }
            
            // Check mass of NO
            if (isNaN(answer2) || Math.abs(answer2 - 33.9) > 0.5) {
                correct = false;
                feedback += "The mass of NO produced is incorrect. ";
            }
            
            if (correct) {
                feedbackElement.textContent = "All answers are correct! Well done.";
                feedbackElement.className = "feedback correct-feedback";
            } else {
                feedbackElement.textContent = feedback;
                feedbackElement.className = "feedback incorrect-feedback";
            }
            
            feedbackElement.style.display = "block";
        }
        
        // Check intermediate question 3
        function checkIntermediateQ3() {
            let answer1 = document.getElementById('i-q3-answer1').value.trim();
            const answer2 = parseFloat(document.getElementById('i-q3-answer2').value);
            const answer3 = parseFloat(document.getElementById('i-q3-answer3').value);
            const feedbackElement = document.getElementById('i-q3-feedback');
            
            let correct = true;
            let feedback = "";
            
            // Normalize answer1: replace subscripts with regular numbers
            answer1 = answer1.toLowerCase()
                .replace(/‚ÇÇ/g, '2')
                .replace(/‚ÇÉ/g, '3')
                .replace(/‚ÇÑ/g, '4')
                .replace(/‚ÇÖ/g, '5')
                .replace(/‚ÇÜ/g, '6')
                .replace(/‚Çà/g, '8');
            
            // Check limiting reactant
            if (answer1 !== "o2") {
                correct = false;
                feedback += "The limiting reactant is incorrect. ";
            }
            
            // Check mass of Fe‚ÇÇO‚ÇÉ
            if (isNaN(answer2) || Math.abs(answer2 - 16) > 0.5) {
                correct = false;
                feedback += "The mass of Fe‚ÇÇO‚ÇÉ produced is incorrect. ";
            }
            
            // Check mass of excess reactant
            if (isNaN(answer3) || Math.abs(answer3 - 2.8) > 0.3) {
                correct = false;
                feedback += "The mass of excess reactant remaining is incorrect. ";
            }
            
            if (correct) {
                feedbackElement.textContent = "All answers are correct! Well done.";
                feedbackElement.className = "feedback correct-feedback";
            } else {
                feedbackElement.textContent = feedback;
                feedbackElement.className = "feedback incorrect-feedback";
            }
            
            feedbackElement.style.display = "block";
        }
        
        // Check advanced question 1
        function checkAdvancedQ1() {
            let answer1 = document.getElementById('a-q1-answer1').value.trim();
            const answer2 = parseFloat(document.getElementById('a-q1-answer2').value);
            const answer3 = parseFloat(document.getElementById('a-q1-answer3').value);
            const answer4 = parseFloat(document.getElementById('a-q1-answer4').value);
            const feedbackElement = document.getElementById('a-q1-feedback');
            
            let correct = true;
            let feedback = "";
            
            // Normalize answer1: replace subscripts with regular numbers
            answer1 = answer1.toLowerCase()
                .replace(/‚ÇÇ/g, '2')
                .replace(/‚ÇÉ/g, '3')
                .replace(/‚ÇÑ/g, '4')
                .replace(/‚ÇÖ/g, '5')
                .replace(/‚ÇÜ/g, '6')
                .replace(/‚Çà/g, '8');
            
            // Check limiting reactant
            if (answer1 !== "h2") {
                correct = false;
                feedback += "The limiting reactant is incorrect. ";
            }
            
            // Check maximum mass of NH‚ÇÉ
            if (isNaN(answer2) || Math.abs(answer2 - 121.25) > 1) {
                correct = false;
                feedback += "The maximum mass of NH‚ÇÉ is incorrect. ";
            }
            
            // Check mass of excess reactant
            if (isNaN(answer3) || Math.abs(answer3 - 82.5) > 1) {
                correct = false;
                feedback += "The mass of excess reactant is incorrect. ";
            }
            
            // Check percentage yield
            if (isNaN(answer4) || Math.abs(answer4 - 70.5) > 1) {
                correct = false;
                feedback += "The percentage yield is incorrect. ";
            }
            
            if (correct) {
                feedbackElement.textContent = "All answers are correct! Excellent work.";
                feedbackElement.className = "feedback correct-feedback";
            } else {
                feedbackElement.textContent = feedback;
                feedbackElement.className = "feedback incorrect-feedback";
            }
            
            feedbackElement.style.display = "block";
        }
        
        // Check advanced question 2
        function checkAdvancedQ2() {
            let answer1 = document.getElementById('a-q2-answer1').value.trim();
            const answer2 = parseFloat(document.getElementById('a-q2-answer2').value);
            const answer3 = parseFloat(document.getElementById('a-q2-answer3').value);
            const feedbackElement = document.getElementById('a-q2-feedback');
            
            let correct = true;
            let feedback = "";
            
            // Normalize answer1: replace subscripts with regular numbers
            answer1 = answer1.toLowerCase()
                .replace(/‚ÇÇ/g, '2')
                .replace(/‚ÇÉ/g, '3')
                .replace(/‚ÇÑ/g, '4')
                .replace(/‚ÇÖ/g, '5')
                .replace(/‚ÇÜ/g, '6')
                .replace(/‚Çà/g, '8');
            
            // Check limiting reactant
            if (answer1 !== "c3h8") {
                correct = false;
                feedback += "The limiting reactant is incorrect. ";
            }
            
            // Check theoretical yield of CO‚ÇÇ
            if (isNaN(answer2) || Math.abs(answer2 - 13.2) > 0.5) {
                correct = false;
                feedback += "The theoretical yield of CO‚ÇÇ is incorrect. ";
            }
            
            // Check percentage yield
            if (isNaN(answer3) || Math.abs(answer3 - 98.5) > 1) {
                correct = false;
                feedback += "The percentage yield is incorrect. ";
            }
            
            if (correct) {
                feedbackElement.textContent = "All answers are correct! Excellent work.";
                feedbackElement.className = "feedback correct-feedback";
            } else {
                feedbackElement.textContent = feedback;
                feedbackElement.className = "feedback incorrect-feedback";
            }
            
            feedbackElement.style.display = "block";
        }
        
        // Check advanced question 3
        function checkAdvancedQ3() {
            let answer1 = document.getElementById('a-q3-answer1').value.trim();
            const answer2 = parseFloat(document.getElementById('a-q3-answer2').value);
            const answer3 = parseFloat(document.getElementById('a-q3-answer3').value);
            const answer4 = parseFloat(document.getElementById('a-q3-answer4').value);
            const feedbackElement = document.getElementById('a-q3-feedback');
            
            let correct = true;
            let feedback = "";
            
            // Normalize answer1: replace subscripts with regular numbers
            answer1 = answer1.toLowerCase()
                .replace(/‚ÇÇ/g, '2')
                .replace(/‚ÇÉ/g, '3')
                .replace(/‚ÇÑ/g, '4')
                .replace(/‚ÇÖ/g, '5')
                .replace(/‚ÇÜ/g, '6')
                .replace(/‚Çà/g, '8');
            
            // Check limiting reactant
            if (answer1 !== "al") {
                correct = false;
                feedback += "The limiting reactant is incorrect. ";
            }
            
            // Check mass of Fe
            if (isNaN(answer2) || Math.abs(answer2 - 22.3) > 0.5) {
                correct = false;
                feedback += "The mass of Fe is incorrect. ";
            }
            
            // Check mass of Al‚ÇÇO‚ÇÉ
            if (isNaN(answer3) || Math.abs(answer3 - 20.4) > 0.5) {
                correct = false;
                feedback += "The mass of Al‚ÇÇO‚ÇÉ is incorrect. ";
            }
            
            // Check actual mass of Fe
            if (isNaN(answer4) || Math.abs(answer4 - 20.5) > 0.5) {
                correct = false;
                feedback += "The actual mass of Fe is incorrect. ";
            }
            
            if (correct) {
                feedbackElement.textContent = "All answers are correct! Excellent work.";
                feedbackElement.className = "feedback correct-feedback";
            } else {
                feedbackElement.textContent = feedback;
                feedbackElement.className = "feedback incorrect-feedback";
            }
            
            feedbackElement.style.display = "block";
        }
        
        // Game functionality
        let gameQuestions = [
            {
                question: "In the reaction 2Na + Cl‚ÇÇ ‚Üí 2NaCl, if you have 3 moles of Na and 2 moles of Cl‚ÇÇ, which is the limiting reactant?",
                options: ["Na", "Cl‚ÇÇ", "Both are limiting", "Neither is limiting"],
                answer: "Na",
                level: "beginner"
            },
            {
                question: "In the reaction H‚ÇÇ + Cl‚ÇÇ ‚Üí 2HCl, if you have 5 moles of H‚ÇÇ and 4 moles of Cl‚ÇÇ, how many moles of HCl can be formed?",
                options: ["5 moles", "8 moles", "9 moles", "10 moles"],
                answer: "8 moles",
                level: "beginner"
            },
            {
                question: "In the reaction N‚ÇÇ + 3H‚ÇÇ ‚Üí 2NH‚ÇÉ, if you have 10 moles of N‚ÇÇ and 25 moles of H‚ÇÇ, which is the limiting reactant?",
                options: ["N‚ÇÇ", "H‚ÇÇ", "Both are limiting", "Neither is limiting"],
                answer: "H‚ÇÇ",
                level: "beginner"
            },
            {
                question: "In the reaction 2Al + 3Cl‚ÇÇ ‚Üí 2AlCl‚ÇÉ, how many moles of Cl‚ÇÇ are needed to react completely with 4 moles of Al?",
                options: ["4 moles", "6 moles", "8 moles", "12 moles"],
                answer: "6 moles",
                level: "beginner"
            },
            {
                question: "In the reaction C + O‚ÇÇ ‚Üí CO‚ÇÇ, if you have 12g of C and 64g of O‚ÇÇ, which is the limiting reactant? (C = 12 g/mol, O = 16 g/mol)",
                options: ["C", "O‚ÇÇ", "Both are limiting", "Neither is limiting"],
                answer: "C",
                level: "beginner"
            },
            {
                question: "In the reaction 2H‚ÇÇ + O‚ÇÇ ‚Üí 2H‚ÇÇO, if you have 8g of H‚ÇÇ and 96g of O‚ÇÇ, how many grams of H‚ÇÇO can be formed? (H = 1 g/mol, O = 16 g/mol)",
                options: ["36g", "54g", "72g", "108g"],
                answer: "72g",
                level: "intermediate"
            },
            {
                question: "In the reaction 4NH‚ÇÉ + 5O‚ÇÇ ‚Üí 4NO + 6H‚ÇÇO, if you have 68g of NH‚ÇÉ and 80g of O‚ÇÇ, which is the limiting reactant? (N = 14 g/mol, H = 1 g/mol, O = 16 g/mol)",
                options: ["NH‚ÇÉ", "O‚ÇÇ", "Both are limiting", "Neither is limiting"],
                answer: "O‚ÇÇ",
                level: "intermediate"
            },
            {
                question: "In the reaction 2C‚ÇÇH‚ÇÜ + 7O‚ÇÇ ‚Üí 4CO‚ÇÇ + 6H‚ÇÇO, if you have 30g of C‚ÇÇH‚ÇÜ and 112g of O‚ÇÇ, how many grams of CO‚ÇÇ will be produced? (C = 12 g/mol, H = 1 g/mol, O = 16 g/mol)",
                options: ["44g", "88g", "132g", "176g"],
                answer: "88g",
                level: "intermediate"
            },
            {
                question: "In the reaction 2Al + Fe‚ÇÇO‚ÇÉ ‚Üí Al‚ÇÇO‚ÇÉ + 2Fe, if you have 27g of Al and 160g of Fe‚ÇÇO‚ÇÉ, which is the limiting reactant? (Al = 27 g/mol, Fe = 56 g/mol, O = 16 g/mol)",
                options: ["Al", "Fe‚ÇÇO‚ÇÉ", "Both are limiting", "Neither is limiting"],
                answer: "Al",
                level: "intermediate"
            },
            {
                question: "In the reaction C‚ÇÉH‚Çà + 5O‚ÇÇ ‚Üí 3CO‚ÇÇ + 4H‚ÇÇO, if 22g of C‚ÇÉH‚Çà reacts with 96g of O‚ÇÇ, how many grams of O‚ÇÇ will remain unused? (C = 12 g/mol, H = 1 g/mol, O = 16 g/mol)",
                options: ["0g", "16g", "32g", "48g"],
                answer: "16g",
                level: "intermediate"
            },
            {
                question: "In the reaction 4Fe + 3O‚ÇÇ ‚Üí 2Fe‚ÇÇO‚ÇÉ, if 112g of Fe reacts with 96g of O‚ÇÇ, what is the limiting reactant and how many grams of Fe‚ÇÇO‚ÇÉ are produced? (Fe = 56 g/mol, O = 16 g/mol)",
                options: ["Fe, 160g", "O‚ÇÇ, 160g", "Fe, 320g", "O‚ÇÇ, 320g"],
                answer: "O‚ÇÇ, 160g",
                level: "advanced"
            },
            {
                question: "In the reaction CH‚ÇÑ + 2O‚ÇÇ ‚Üí CO‚ÇÇ + 2H‚ÇÇO, if 80g of CH‚ÇÑ reacts with 160g of O‚ÇÇ, what is the percentage yield if 200g of CO‚ÇÇ is produced? (C = 12 g/mol, H = 1 g/mol, O = 16 g/mol)",
                options: ["80%", "85%", "90%", "95%"],
                answer: "90%",
                level: "advanced"
            },
            {
                question: "In the reaction 2C‚ÇàH‚ÇÅ‚Çà + 25O‚ÇÇ ‚Üí 16CO‚ÇÇ + 18H‚ÇÇO, if 228g of C‚ÇàH‚ÇÅ‚Çà reacts with 800g of O‚ÇÇ, how many grams of CO‚ÇÇ can be produced? (C = 12 g/mol, H = 1 g/mol, O = 16 g/mol)",
                options: ["528g", "616g", "704g", "792g"],
                answer: "704g",
                level: "advanced"
            },
            {
                question: "In the reaction CaCO‚ÇÉ ‚Üí CaO + CO‚ÇÇ, if 100g of CaCO‚ÇÉ decomposes with a 92% yield, how many grams of CO‚ÇÇ are produced? (Ca = 40 g/mol, C = 12 g/mol, O = 16 g/mol)",
                options: ["36.8g", "40g", "44g", "48g"],
                answer: "40g",
                level: "advanced"
            },
            {
                question: "In the reaction C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ ‚Üí 2C‚ÇÇH‚ÇÖOH + 2CO‚ÇÇ, if 180g of C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ ferments, how many grams of C‚ÇÇH‚ÇÖOH are produced at 85% yield? (C = 12 g/mol, H = 1 g/mol, O = 16 g/mol)",
                options: ["65.9g", "77.9g", "85.9g", "92g"],
                answer: "77.9g",
                level: "advanced"
            }
        ];
        
        let currentQuestion = 0;
        let score = 0;
        let timer;
        let timeLeft = 180; // 3 minutes
        let gameActive = false;
        
        // Start the game
        function startGame() {
            // Reset game state
            currentQuestion = 0;
            score = 0;
            timeLeft = 180;
            gameActive = true;
            
            // Update UI
            document.getElementById('current-score').textContent = '0';
            document.getElementById('start-btn').style.display = 'none';
            document.getElementById('next-btn').style.display = 'inline-block';
            document.getElementById('game-feedback').style.display = 'none';
            
            // Start timer
            startTimer();
            
            // Show first question
            showQuestion();
        }
        
        // Start the timer
        function startTimer() {
            clearInterval(timer);
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                // Update progress bar
                const progressBar = document.getElementById('time-progress');
                progressBar.style.width = `${(timeLeft / 180) * 100}%`;
                
                if (timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
        }
        
        // Update timer display
        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            document.getElementById('game-timer').textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
        }
        
        // Show question
        function showQuestion() {
            // Shuffle questions if we've gone through all of them
            if (currentQuestion >= gameQuestions.length) {
                shuffleArray(gameQuestions);
                currentQuestion = 0;
            }
            
            const question = gameQuestions[currentQuestion];
            document.getElementById('game-question').innerHTML = `<p>${question.question}</p>`;
            
            // Create options
            const optionsContainer = document.getElementById('game-options');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.textContent = option;
                button.className = 'game-option';
                button.onclick = () => checkGameAnswer(option);
                optionsContainer.appendChild(button);
            });
            
            // Hide feedback
            document.getElementById('game-feedback').style.display = 'none';
        }
        
        // Check game answer
        function checkGameAnswer(selectedAnswer) {
            if (!gameActive) return;
            
            const question = gameQuestions[currentQuestion];
            const feedbackElement = document.getElementById('game-feedback');
            
            // Disable options
            const options = document.querySelectorAll('.game-option');
            options.forEach(option => {
                option.disabled = true;
                option.style.opacity = '0.7';
            });
            
            // Normalize selected answer and correct answer
            const normalizedSelected = selectedAnswer
                .replace(/‚ÇÇ/g, '2')
                .replace(/‚ÇÉ/g, '3')
                .replace(/‚ÇÑ/g, '4')
                .replace(/‚ÇÖ/g, '5')
                .replace(/‚ÇÜ/g, '6')
                .replace(/‚Çà/g, '8');
                
            const normalizedCorrect = question.answer
                .replace(/‚ÇÇ/g, '2')
                .replace(/‚ÇÉ/g, '3')
                .replace(/‚ÇÑ/g, '4')
                .replace(/‚ÇÖ/g, '5')
                .replace(/‚ÇÜ/g, '6')
                .replace(/‚Çà/g, '8');
            
            // Check if answer is correct
            if (normalizedSelected === normalizedCorrect) {
                // Add points based on difficulty
                let points = 1;
                if (question.level === 'intermediate') points = 2;
                if (question.level === 'advanced') points = 3;
                
                score += points;
                document.getElementById('current-score').textContent = score;
                
                feedbackElement.textContent = `Correct! +${points} points`;
                feedbackElement.className = 'feedback correct-feedback';
            } else {
                feedbackElement.textContent = `Incorrect! The correct answer is ${question.answer}`;
                feedbackElement.className = 'feedback incorrect-feedback';
            }
            
            feedbackElement.style.display = 'block';
            
            // Highlight correct answer
            options.forEach(option => {
                const normalizedOption = option.textContent
                    .replace(/‚ÇÇ/g, '2')
                    .replace(/‚ÇÉ/g, '3')
                    .replace(/‚ÇÑ/g, '4')
                    .replace(/‚ÇÖ/g, '5')
                    .replace(/‚ÇÜ/g, '6')
                    .replace(/‚Çà/g, '8');
                    
                if (normalizedOption === normalizedCorrect) {
                    option.style.backgroundColor = 'rgba(46, 204, 113, 0.3)';
                    option.style.borderColor = '#27ae60';
                }
            });
            
            // Move to next question after delay
            setTimeout(() => {
                if (gameActive) {
                    currentQuestion++;
                    showQuestion();
                }
            }, 1500);
        }
        
        // Next question
        function nextQuestion() {
            if (!gameActive) return;
            
            currentQuestion++;
            showQuestion();
        }
        
        // End game
        function endGame() {
            gameActive = false;
            clearInterval(timer);
            
            // Show game over modal
            document.getElementById('game-over-modal').style.display = 'flex';
            document.getElementById('final-score').textContent = score;
            
            // Reset UI
            document.getElementById('start-btn').style.display = 'inline-block';
            document.getElementById('next-btn').style.display = 'none';
        }
        
        // Close modal
        function closeModal() {
            document.getElementById('game-over-modal').style.display = 'none';
        }
        
        // Save score
        function saveScore() {
            const playerName = document.getElementById('player-name').value.trim() || 'Anonymous';
            
            // Get existing leaderboard
            let leaderboard = JSON.parse(localStorage.getItem('limitingReactantsLeaderboard')) || [];
            
            // Add new score
            leaderboard.push({
                name: playerName,
                score: score,
                date: new Date().toLocaleDateString()
            });
            
            // Sort by score (highest first)
            leaderboard.sort((a, b) => b.score - a.score);
            
            // Keep only top 10
            if (leaderboard.length > 10) {
                leaderboard = leaderboard.slice(0, 10);
            }
            
            // Save to local storage
            localStorage.setItem('limitingReactantsLeaderboard', JSON.stringify(leaderboard));
            
            // Update leaderboard display
            updateLeaderboard();
            
            // Close modal
            closeModal();
        }
        
        // Update leaderboard
        function updateLeaderboard() {
            const leaderboard = JSON.parse(localStorage.getItem('limitingReactantsLeaderboard')) || [];
            const leaderboardBody = document.getElementById('leaderboard-body');
            
            leaderboardBody.innerHTML = '';
            
            leaderboard.forEach((entry, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>${entry.name}</td>
                    <td>${entry.score}</td>
                    <td>${entry.date}</td>
                `;
                leaderboardBody.appendChild(row);
            });
        }
        
        // Shuffle array
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Set up navigation button listeners
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const section = this.getAttribute('data-section');
                    changeSection(section);
                });
            });
            
            // Load leaderboard
            updateLeaderboard();
        });
    </script>
</body>
</html>
