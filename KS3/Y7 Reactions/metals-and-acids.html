<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Metals and Acids - Learning Support</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #f0f8ff;
            color: #333;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background-color: #1e88e5;
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        h1 {
            margin: 0;
            font-size: 28px;
        }
        
        .intro {
            background-color: #fff;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .task-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .task-button {
            background-color: #42a5f5;
            color: white;
            border: none;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            text-align: left;
            transition: background-color 0.3s, transform 0.2s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .task-button:hover {
            background-color: #1976d2;
            transform: translateY(-2px);
        }
        
        .quiz-button {
            background-color: #4caf50;
        }
        
        .quiz-button:hover {
            background-color: #388e3c;
        }
        
        .task-content {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            display: none;
            border-left: 5px solid #42a5f5;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .task-content.active {
            display: block;
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        h2 {
            color: #1976d2;
            border-bottom: 2px solid #e3f2fd;
            padding-bottom: 8px;
        }
        
        .hint, .example, .tip {
            margin: 15px 0;
            padding: 12px;
            border-radius: 8px;
        }
        
        .hint {
            background-color: #e3f2fd;
            border-left: 4px solid #2196f3;
        }
        
        .example {
            background-color: #e8f5e9;
            border-left: 4px solid #4caf50;
        }
        
        .tip {
            background-color: #fff8e1;
            border-left: 4px solid #ffc107;
        }
        
        .hint h3, .example h3, .tip h3 {
            margin-top: 0;
            color: #333;
            font-size: 18px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        table, th, td {
            border: 1px solid #e0e0e0;
        }
        
        th, td {
            padding: 10px;
            text-align: left;
        }
        
        th {
            background-color: #e3f2fd;
        }
        
        .back-to-top {
            display: block;
            margin: 20px auto;
            padding: 10px 20px;
            background-color: #1e88e5;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .icon {
            margin-right: 8px;
        }
        
        .info-box {
            background-color: #e8eaf6;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .reactivity-scale {
            width: 100%;
            height: 50px;
            background: linear-gradient(to right, #f44336, #ffeb3b, #4caf50);
            border-radius: 5px;
            position: relative;
            margin: 20px 0;
        }
        
        .reactivity-label {
            position: absolute;
            transform: translateX(-50%);
            top: -25px;
            color: #333;
            font-weight: bold;
        }
        
        .formula {
            font-family: 'Courier New', monospace;
            background-color: #f5f5f5;
            padding: 2px 5px;
            border-radius: 3px;
        }
        
        .experiment-steps {
            counter-reset: step;
            list-style-type: none;
            padding-left: 15px;
        }
        
        .experiment-steps li {
            position: relative;
            margin-bottom: 15px;
            padding-left: 30px;
        }
        
        .experiment-steps li:before {
            content: counter(step);
            counter-increment: step;
            position: absolute;
            left: 0;
            top: 0;
            background-color: #1e88e5;
            color: white;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            text-align: center;
            font-size: 14px;
            line-height: 22px;
        }
        
        .diagram {
            max-width: 100%;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin: 15px auto;
            display: block;
        }
        
        /* Quiz Styles */
        .quiz-container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .question {
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 25px;
            border-left: 5px solid #42a5f5;
        }
        
        .question h3 {
            margin-top: 0;
            color: #1976d2;
        }
        
        .options {
            list-style-type: none;
            padding: 0;
        }
        
        .option-label {
            display: block;
            padding: 10px 15px;
            margin: 5px 0;
            background-color: #e3f2fd;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .option-label:hover {
            background-color: #bbdefb;
        }
        
        .option-input {
            margin-right: 10px;
        }
        
        .submit-quiz {
            background-color: #4caf50;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 20px 0;
            transition: background-color 0.3s;
        }
        
        .submit-quiz:hover {
            background-color: #388e3c;
        }
        
        .results {
            background-color: #e8f5e9;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            border-left: 5px solid #4caf50;
            display: none;
        }
        
        .reset-quiz {
            background-color: #f44336;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
            transition: background-color 0.3s;
        }
        
        .reset-quiz:hover {
            background-color: #d32f2f;
        }
        
        .feedback {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            display: none;
        }
        
        .feedback.correct {
            background-color: #e8f5e9;
            border-left: 5px solid #4caf50;
        }
        
        .feedback.incorrect {
            background-color: #ffebee;
            border-left: 5px solid #f44336;
        }
        
        .option-label.correct {
            background-color: #c8e6c9;
        }
        
        .option-label.incorrect {
            background-color: #ffcdd2;
        }
        
        .score-display {
            font-size: 24px;
            font-weight: bold;
            color: #1976d2;
            text-align: center;
            margin: 20px 0;
        }
        
        /* Salt Naming Game Styles */
        .game-container {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e3f2fd;
        }
        
        .game-stats {
            display: flex;
            gap: 20px;
        }
        
        .stat {
            background-color: #e3f2fd;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
        }
        
        .timer {
            color: #f44336;
        }
        
        .score {
            color: #4caf50;
        }
        
        .best-time {
            color: #9c27b0;
        }
        
        .salt-display {
            background-color: #1e88e5;
            color: white;
            text-align: center;
            padding: 20px;
            border-radius: 10px;
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .selection-area {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .selection-label {
            font-weight: bold;
            color: #1976d2;
            margin-bottom: 5px;
        }
        
        .options-grid {
            display: grid;
            gap: 10px;
        }
        
        .metal-options {
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
        }
        
        .acid-options {
            grid-template-columns: repeat(3, 1fr);
        }
        
        .option-button {
            padding: 12px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .metal-button {
            background-color: #bbdefb;
            color: #0d47a1;
        }
        
        .metal-button:hover {
            background-color: #90caf9;
        }
        
        .metal-button.selected {
            background-color: #1976d2;
            color: white;
        }
        
        .acid-button {
            background-color: #ffecb3;
            color: #ff6f00;
        }
        
        .acid-button:hover {
            background-color: #ffe082;
        }
        
        .acid-button.selected {
            background-color: #ff9800;
            color: white;
        }
        
        .submit-guess {
            padding: 12px 20px;
            background-color: #4caf50;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-top: 10px;
            width: 100%;
        }
        
        .submit-guess:hover {
            background-color: #388e3c;
        }
        
        .submit-guess:disabled {
            background-color: #bdbdbd;
            cursor: not-allowed;
        }
        
        .feedback-message {
            text-align: center;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            font-weight: bold;
            display: none;
        }
        
        .feedback-correct {
            background-color: #e8f5e9;
            color: #388e3c;
            border-left: 5px solid #4caf50;
        }
        
        .feedback-incorrect {
            background-color: #ffebee;
            color: #d32f2f;
            border-left: 5px solid #f44336;
        }
        
        .results-container {
            background-color: #e8f5e9;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-top: 20px;
            display: none;
        }
        
        .start-button, .restart-button {
            padding: 12px 25px;
            font-size: 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-top: 15px;
        }
        
        .start-button {
            background-color: #4caf50;
            color: white;
        }
        
        .start-button:hover {
            background-color: #388e3c;
        }
        
        .restart-button {
            background-color: #2196f3;
            color: white;
        }
        
        .restart-button:hover {
            background-color: #1976d2;
        }
        
        .game-instructions {
            background-color: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .remaining-salts {
            background-color: #ede7f6;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            color: #512da8;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Metals and Acids - Learning Support</h1>
        </header>
        
        <div class="intro">
            <p>Welcome to your interactive learning support for the Metals and Acids worksheet! Click on any task button below to get help, hints, examples, and guidance. Think of this as your digital teaching assistant to help you complete your worksheet.</p>
            <p><strong>Remember:</strong> This support tool is designed to help you understand the concepts and guide you through the tasks, not to give you the answers directly. Good luck!</p>
        </div>
        
        <div class="task-buttons">
            <button class="task-button" onclick="showTask(1)">Task 1: Fill in the Blanks</button>
            <button class="task-button" onclick="showTask(2)">Task 2: Match the Equations</button>
            <button class="task-button" onclick="showTask(3)">Task 3: Ordering Reactivity</button>
            <button class="task-button" onclick="showTask(4)">Task 4: True or False</button>
            <button class="task-button" onclick="showTask(5)">Task 5: Label the Diagram</button>
            <button class="task-button" onclick="showTask(6)">Task 6: Explain the Reactions</button>
            <button class="task-button" onclick="showTask(7)">Task 7: Real-world Applications</button>
            <button class="task-button" onclick="showTask(8)">Task 8: Challenge Questions</button>
            <button class="task-button" onclick="showTask(9)">Task 9: Creative Application</button>
            <button class="task-button quiz-button" onclick="showTask(10)">Self-Assessment Quiz (10 marks)</button>
            <button class="task-button" onclick="showTask(11)" style="background-color: #9c27b0; color: white;">Salt Naming Game</button>
        </div>
        
        <!-- Task 1 Content -->
        <div id="task1" class="task-content">
            <h2>Task 1: Fill in the Blanks</h2>
            
            <div class="hint">
                <h3>Hint: What happens when metals react with acids?</h3>
                <p>When metals react with acids, they typically produce two things:</p>
                <ul>
                    <li>A metal salt (the type depends on which acid is used)</li>
                    <li>A gas that can be seen as bubbles during the reaction</li>
                </ul>
            </div>
            
            <div class="example">
                <h3>Example: Zinc reacting with hydrochloric acid</h3>
                <p>When zinc metal reacts with hydrochloric acid:</p>
                <p class="formula">Zinc + Hydrochloric acid → Zinc chloride + Hydrogen gas</p>
                <p>Notice that:</p>
                <ul>
                    <li>The metal (zinc) combines with the non-hydrogen part of the acid (chloride) to form a salt</li>
                    <li>The hydrogen from the acid is released as a gas</li>
                    <li>The salt name includes both the metal name and the acid name without the "hydro" and "acid" parts</li>
                </ul>
            </div>
            
            <div class="tip">
                <h3>Tip: Naming the salts</h3>
                <p>Different acids produce different salts:</p>
                <ul>
                    <li>Hydrochloric acid produces <strong>chloride</strong> salts</li>
                    <li>Sulfuric acid produces <strong>sulfate</strong> salts</li>
                    <li>Nitric acid produces <strong>nitrate</strong> salts</li>
                </ul>
            </div>
            
            <div class="hint">
                <h3>Hint: Metal reactivity</h3>
                <p>Metals have different levels of reactivity:</p>
                <ul>
                    <li>More reactive metals (like magnesium) react quickly and vigorously with acids</li>
                    <li>Less reactive metals (like lead) react more slowly</li>
                    <li>Some metals (like gold and platinum) are so unreactive that they don't react with dilute acids at all</li>
                </ul>
            </div>
        </div>
        
        <!-- Task 2 Content -->
        <div id="task2" class="task-content">
            <h2>Task 2: Match the Equations</h2>
            
            <div class="hint">
                <h3>Hint: Understanding the pattern</h3>
                <p>For this task, you need to understand that when a metal reacts with hydrochloric acid, it follows this pattern:</p>
                <p class="formula">Metal + Hydrochloric acid → Metal chloride + Hydrogen gas</p>
                <p>The name of the salt produced will always include the name of the metal plus "chloride".</p>
            </div>
            
            <div class="example">
                <h3>Example: Magnesium with hydrochloric acid</h3>
                <p>When magnesium reacts with hydrochloric acid:</p>
                <p class="formula">Magnesium + Hydrochloric acid → Magnesium chloride + Hydrogen gas</p>
                <p>So magnesium should be matched with "Magnesium chloride + Hydrogen".</p>
            </div>
            
            <div class="tip">
                <h3>Tip: Think about the pattern</h3>
                <p>For any metal + hydrochloric acid reaction:</p>
                <ul>
                    <li>The metal in the reactants will be the same metal in the products</li>
                    <li>The product will always be "[Metal name] chloride + Hydrogen"</li>
                    <li>Every reaction produces hydrogen gas - this is a key indicator of a metal-acid reaction</li>
                </ul>
            </div>
        </div>
        
        <!-- Task 3 Content -->
        <div id="task3" class="task-content">
            <h2>Task 3: Ordering Reactivity</h2>
            
            <div class="hint">
                <h3>Hint: Signs of reactivity</h3>
                <p>When ordering metals by reactivity, look for these signs:</p>
                <ul>
                    <li>Speed of reaction - faster reactions indicate higher reactivity</li>
                    <li>Intensity of bubbling - more vigorous bubbling means higher reactivity</li>
                    <li>How quickly the metal disappears - faster disappearance means higher reactivity</li>
                </ul>
            </div>
            
            <div class="example">
                <h3>Example: Comparing metal reactivity</h3>
                <p>If we put equal-sized pieces of different metals in the same concentration of acid:</p>
                <ul>
                    <li>Magnesium will react very quickly with lots of bubbles</li>
                    <li>Zinc will react moderately fast with steady bubbling</li>
                    <li>Iron will react more slowly with gentle bubbling</li>
                    <li>Lead will react very slowly with few bubbles</li>
                </ul>
            </div>
            
            <div class="info-box">
                <h3>Reactivity Series</h3>
                <p>The reactivity series of metals (from most to least reactive) includes:</p>
                <div class="reactivity-scale">
                    <span class="reactivity-label" style="left: 10%;">Potassium</span>
                    <span class="reactivity-label" style="left: 20%;">Sodium</span>
                    <span class="reactivity-label" style="left: 30%;">Calcium</span>
                    <span class="reactivity-label" style="left: 40%;">Magnesium</span>
                    <span class="reactivity-label" style="left: 50%;">Aluminum</span>
                    <span class="reactivity-label" style="left: 60%;">Zinc</span>
                    <span class="reactivity-label" style="left: 70%;">Iron</span>
                    <span class="reactivity-label" style="left: 80%;">Lead</span>
                    <span class="reactivity-label" style="left: 90%;">Copper</span>
                </div>
                <p>The higher up a metal is in the reactivity series, the more vigorously it will react with acids.</p>
            </div>
        </div>
        
        <!-- Task 4 Content -->
        <div id="task4" class="task-content">
            <h2>Task 4: True or False</h2>
            
            <div class="hint">
                <h3>Hint: Key facts about metal-acid reactions</h3>
                <p>When answering true or false questions, remember these key facts:</p>
                <ul>
                    <li>Not all metals react with acids - some are too unreactive</li>
                    <li>Hydrogen gas is a product of metal-acid reactions</li>
                    <li>Different acids produce different salts</li>
                    <li>Metals higher in the reactivity series react more vigorously</li>
                </ul>
            </div>
            
            <div class="example">
                <h3>Example: Some metals are very unreactive</h3>
                <p>Gold and platinum are examples of very unreactive metals. They do not react with dilute acids. This is why they're valuable for jewelry and why we call them "noble metals."</p>
                <p>Copper, silver, and mercury are also examples of less reactive metals that don't easily react with dilute acids.</p>
            </div>
            
            <div class="tip">
                <h3>Tip: Thinking about metal-acid reactions</h3>
                <p>Consider these points:</p>
                <ul>
                    <li>More reactive metals like magnesium, zinc, and iron do react with acids</li>
                    <li>Less reactive metals like copper, silver, gold, and platinum typically don't react with dilute acids</li>
                    <li>All metal-acid reactions produce hydrogen gas (identifiable as bubbles)</li>
                    <li>The salt produced depends on which acid is used (e.g., chloride salts from hydrochloric acid, sulfate salts from sulfuric acid)</li>
                </ul>
            </div>
        </div>
        
        <!-- Task 5 Content -->
        <div id="task5" class="task-content">
            <h2>Task 5: Label the Diagram</h2>
            
            <div class="hint">
                <h3>Hint: Components of a metal-acid reaction</h3>
                <p>In a metal-acid reaction setup, you typically have:</p>
                <ul>
                    <li>A solid metal piece (usually a strip, granules, or powder)</li>
                    <li>An acid solution (like hydrochloric acid)</li>
                    <li>Hydrogen gas bubbles forming and rising</li>
                    <li>A salt solution forming as the reaction progresses</li>
                </ul>
            </div>
            
            <div class="example">
                <h3>Example: What happens during the reaction</h3>
                <p>When a solid metal is placed in an acid solution:</p>
                <ol>
                    <li>The metal begins to dissolve in the acid</li>
                    <li>Hydrogen gas bubbles form on the metal surface and rise to the top</li>
                    <li>The clear acid solution gradually changes as metal ions combine with the acid to form a salt solution</li>
                    <li>Eventually, if enough metal is present, all the acid will be used up and only the salt solution (and any remaining metal) will be left</li>
                </ol>
            </div>
            
            <div class="tip">
                <h3>Tip: Identifying features in the diagram</h3>
                <p>Look for these features in the diagram:</p>
                <ul>
                    <li>Small bubbles rising from a solid object would be hydrogen gas</li>
                    <li>The solid object at the bottom would be the metal</li>
                    <li>The liquid surrounding everything would be the acid solution initially, changing to a salt solution</li>
                </ul>
            </div>
        </div>
        
        <!-- Task 6 Content -->
        <div id="task6" class="task-content">
            <h2>Task 6: Explain the Reactions</h2>
            
            <div class="hint">
                <h3>Hint: Comparing reaction speeds</h3>
                <p>When explaining why reactions happen at different speeds, consider:</p>
                <ul>
                    <li>Position of the metal in the reactivity series</li>
                    <li>Surface area of the metal (e.g., ribbon vs. nail)</li>
                    <li>Concentration of the acid</li>
                    <li>Temperature of the reaction</li>
                </ul>
            </div>
            
            <div class="example">
                <h3>Example: Magnesium vs. Iron reactivity</h3>
                <p>Magnesium is higher in the reactivity series than iron. This means:</p>
                <ul>
                    <li>Magnesium atoms give up their electrons more readily than iron atoms</li>
                    <li>Magnesium reacts more vigorously (faster, more bubbles) than iron</li>
                    <li>A piece of magnesium will disappear more quickly in acid than a similar-sized piece of iron</li>
                </ul>
            </div>
            
            <div class="tip">
                <h3>Tip: Writing word equations</h3>
                <p>A word equation follows this structure:</p>
                <p class="formula">Reactants → Products</p>
                <p>For metal-acid reactions:</p>
                <p class="formula">Metal + Acid → Salt + Hydrogen</p>
                <p>For example:</p>
                <p class="formula">Iron + Hydrochloric acid → Iron chloride + Hydrogen</p>
            </div>
            
            <div class="info-box">
                <h3>Why does magnesium react faster?</h3>
                <p>Magnesium is more reactive than iron because:</p>
                <ul>
                    <li>Magnesium atoms have 2 electrons in their outer shell that they want to lose</li>
                    <li>Iron atoms hold onto their electrons more tightly</li>
                    <li>Magnesium is higher in the reactivity series than iron</li>
                </ul>
                <p>This means magnesium gives up its electrons more easily and reacts more quickly with acids.</p>
            </div>
        </div>
        
        <!-- Task 7 Content -->
        <div id="task7" class="task-content">
            <h2>Task 7: Real-world Applications</h2>
            
            <div class="hint">
                <h3>Hint: The case of the sick hyena</h3>
                <p>When thinking about the zinc coins in the hyena's stomach:</p>
                <ul>
                    <li>The stomach contains hydrochloric acid</li>
                    <li>Zinc is a reactive metal that will react with acid</li>
                    <li>The reaction produces zinc chloride and hydrogen gas</li>
                </ul>
            </div>
            
            <div class="example">
                <h3>Example: Word equation for zinc and hydrochloric acid</h3>
                <p>The reaction between zinc and hydrochloric acid follows this equation:</p>
                <p class="formula">Zinc + Hydrochloric acid → Zinc chloride + Hydrogen gas</p>
                <p>This reaction occurred in the hyena's stomach when it swallowed zinc coins.</p>
            </div>
            
            <div class="tip">
                <h3>Tip: Metal toxicity and safety</h3>
                <p>Many metal compounds can be toxic to animals and humans:</p>
                <ul>
                    <li>Zinc chloride is toxic if ingested in large amounts</li>
                    <li>Copper doesn't react with dilute acids as easily, making it safer for coins</li>
                    <li>Coating reactive metals with less reactive ones can prevent unwanted reactions</li>
                </ul>
            </div>
            
            <div class="info-box">
                <h3>Practical applications of metal reactivity knowledge</h3>
                <p>Understanding metal reactivity helps us:</p>
                <ul>
                    <li>Choose appropriate metals for specific uses (like coins, cookware, or buildings)</li>
                    <li>Prevent dangerous reactions by using metals that won't react with their environment</li>
                    <li>Protect more reactive metals with coatings of less reactive metals</li>
                    <li>Understand potential health hazards when metals react with acids in the body</li>
                </ul>
            </div>
        </div>
        
        <!-- Task 8 Content -->
        <div id="task8" class="task-content">
            <h2>Task 8: Challenge Questions</h2>
            
            <div class="hint">
                <h3>Hint: Predicting reactions</h3>
                <p>To predict what happens when aluminum reacts with sulfuric acid:</p>
                <ul>
                    <li>Consider that aluminum is a reactive metal</li>
                    <li>Sulfuric acid produces sulfate salts</li>
                    <li>The reaction will follow the general pattern: Metal + Acid → Salt + Hydrogen</li>
                </ul>
            </div>
            
            <div class="example">
                <h3>Example: Aluminum and sulfuric acid</h3>
                <p>When aluminum reacts with sulfuric acid:</p>
                <p class="formula">Aluminum + Sulfuric acid → Aluminum sulfate + Hydrogen gas</p>
                <p>The reaction would show bubbling as hydrogen gas is produced, and the aluminum would gradually dissolve.</p>
            </div>
            
            <div class="hint">
                <h3>Hint: Precious metals and jewelery</h3>
                <p>When thinking about why gold and silver are used for jewelry:</p>
                <ul>
                    <li>Consider their position in the reactivity series (very low)</li>
                    <li>Think about how they react (or don't react) with substances they come into contact with</li>
                    <li>Consider what would happen if jewelry was made from a highly reactive metal like sodium or magnesium</li>
                </ul>
            </div>
            
            <div class="tip">
                <h3>Tip: Designing an experiment</h3>
                <p>When designing an experiment to test reactivity:</p>
                <ul>
                    <li>You'll need to control variables (same acid concentration, temperature, etc.)</li>
                    <li>You could measure reaction rate by observing:
                        <ul>
                            <li>How quickly bubbles form</li>
                            <li>How quickly the metal disappears</li>
                            <li>The volume of hydrogen gas produced over time</li>
                            <li>The temperature change during the reaction</li>
                        </ul>
                    </li>
                </ul>
            </div>
            
            <div class="info-box">
                <h3>Are all metals reactive with acids?</h3>
                <p>When considering whether "All metals react with acids to produce hydrogen gas":</p>
                <ul>
                    <li>Some metals (like gold, platinum, and silver) are so unreactive they don't react with dilute acids</li>
                    <li>Some metals (like copper) will react with some acids (like concentrated nitric acid) but not others</li>
                    <li>Not all metal-acid reactions produce hydrogen gas - some oxidizing acids like nitric acid can produce different gases</li>
                </ul>
            </div>
        </div>
        
        <!-- Task 9 Content -->
        <div id="task9" class="task-content">
            <h2>Task 9: Creative Application</h2>
            
            <div class="hint">
                <h3>Hint: Choosing appropriate metals</h3>
                <p>When designing a container for acid storage:</p>
                <ul>
                    <li>Consider the reactivity of different metals with acids</li>
                    <li>Remember that more reactive metals will corrode quickly in an acid environment</li>
                    <li>Think about metals that don't react with acids at all</li>
                </ul>
            </div>
            
            <div class="example">
                <h3>Example: Materials for acid containers</h3>
                <p>In real-world chemistry and industry:</p>
                <ul>
                    <li>Acid containers are often made of glass, ceramic, or certain plastics</li>
                    <li>When metals must be used, they are often coated or lined with protective materials</li>
                    <li>Some less reactive metals like lead have been used historically, though modern solutions are preferred due to toxicity concerns</li>
                </ul>
            </div>
            
            <div class="tip">
                <h3>Tip: Evaluating choices</h3>
                <p>When evaluating which metal would be best or worst:</p>
                <ul>
                    <li>Consider both reactivity and practicality</li>
                    <li>The worst choices would be very reactive metals like magnesium or zinc</li>
                    <li>Better choices would be less reactive metals like gold or platinum (though these would be expensive)</li>
                    <li>A practical choice might be a less reactive metal that's also affordable</li>
                    <li>Consider safety - some metals might be unreactive but could be toxic or have other drawbacks</li>
                </ul>
            </div>
            
            <div class="info-box">
                <h3>Real-world considerations</h3>
                <p>In real-world chemistry, when storing acids:</p>
                <ul>
                    <li>Materials must be chosen based on their chemical resistance</li>
                    <li>Cost, availability, and safety are also important factors</li>
                    <li>Many acid containers use plastic linings or glass containers</li>
                    <li>Metal acid containers often use special alloys or have protective coatings</li>
                    <li>Storage methods also consider temperature, pressure, and concentration of the acid</li>
                </ul>
            </div>
        </div>
        
        <!-- Task 10: Quiz Content -->
        <div id="task10" class="task-content">
            <h2>Self-Assessment Quiz: Metals and Acids (10 marks)</h2>
            
            <div class="intro">
                <p>Test your understanding of metals and acids with this 10-question quiz. Select one answer for each question and click "Check Answers" when you're done.</p>
                <p><strong>Each correct answer is worth 1 mark. Good luck!</strong></p>
            </div>
            
            <div class="quiz-container">
                <form id="quiz-form">
                    <div class="question" id="q1">
                        <h3>Question 1: What is produced when metals react with acids?</h3>
                        <ul class="options">
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q1" value="A" class="option-input">
                                    A) Oxygen gas and a base
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q1" value="B" class="option-input">
                                    B) Carbon dioxide and water
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q1" value="C" class="option-input">
                                    C) Hydrogen gas and a salt
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q1" value="D" class="option-input">
                                    D) Chlorine gas and water
                                </label>
                            </li>
                        </ul>
                        <div class="feedback" id="feedback-q1"></div>
                    </div>
                    
                    <div class="question" id="q2">
                        <h3>Question 2: Which metal is the MOST reactive with acids?</h3>
                        <ul class="options">
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q2" value="A" class="option-input">
                                    A) Lead
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q2" value="B" class="option-input">
                                    B) Copper
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q2" value="C" class="option-input">
                                    C) Iron
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q2" value="D" class="option-input">
                                    D) Magnesium
                                </label>
                            </li>
                        </ul>
                        <div class="feedback" id="feedback-q2"></div>
                    </div>
                    
                    <div class="question" id="q3">
                        <h3>Question 3: What salt is produced when zinc reacts with sulfuric acid?</h3>
                        <ul class="options">
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q3" value="A" class="option-input">
                                    A) Zinc chloride
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q3" value="B" class="option-input">
                                    B) Zinc nitrate
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q3" value="C" class="option-input">
                                    C) Zinc oxide
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q3" value="D" class="option-input">
                                    D) Zinc sulfate
                                </label>
                            </li>
                        </ul>
                        <div class="feedback" id="feedback-q3"></div>
                    </div>
                    
                    <div class="question" id="q4">
                        <h3>Question 4: Which of the following metals does NOT react with dilute acids?</h3>
                        <ul class="options">
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q4" value="A" class="option-input">
                                    A) Zinc
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q4" value="B" class="option-input">
                                    B) Gold
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q4" value="C" class="option-input">
                                    C) Iron
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q4" value="D" class="option-input">
                                    D) Aluminum
                                </label>
                            </li>
                        </ul>
                        <div class="feedback" id="feedback-q4"></div>
                    </div>
                    
                    <div class="question" id="q5">
                        <h3>Question 5: What would you observe when magnesium reacts with hydrochloric acid?</h3>
                        <ul class="options">
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q5" value="A" class="option-input">
                                    A) No reaction occurs
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q5" value="B" class="option-input">
                                    B) A slow reaction with few bubbles
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q5" value="C" class="option-input">
                                    C) A vigorous reaction with lots of bubbles
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q5" value="D" class="option-input">
                                    D) The solution turns blue
                                </label>
                            </li>
                        </ul>
                        <div class="feedback" id="feedback-q5"></div>
                    </div>
                    
                    <div class="question" id="q6">
                        <h3>Question 6: Complete this word equation: Iron + Hydrochloric acid → ?</h3>
                        <ul class="options">
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q6" value="A" class="option-input">
                                    A) Iron oxide + Water
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q6" value="B" class="option-input">
                                    B) Iron chloride + Hydrogen
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q6" value="C" class="option-input">
                                    C) Iron hydroxide + Chlorine
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q6" value="D" class="option-input">
                                    D) Iron sulfate + Hydrogen
                                </label>
                            </li>
                        </ul>
                        <div class="feedback" id="feedback-q6"></div>
                    </div>
                    
                    <div class="question" id="q7">
                        <h3>Question 7: Why might zinc coins be dangerous if swallowed?</h3>
                        <ul class="options">
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q7" value="A" class="option-input">
                                    A) They could cause physical blockages
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q7" value="B" class="option-input">
                                    B) They can react with stomach acid to produce toxic zinc chloride
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q7" value="C" class="option-input">
                                    C) They produce harmful radiation
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q7" value="D" class="option-input">
                                    D) Zinc is always toxic even without reacting
                                </label>
                            </li>
                        </ul>
                        <div class="feedback" id="feedback-q7"></div>
                    </div>
                    
                    <div class="question" id="q8">
                        <h3>Question 8: Which factor does NOT affect the rate of reaction between a metal and an acid?</h3>
                        <ul class="options">
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q8" value="A" class="option-input">
                                    A) The temperature of the acid
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q8" value="B" class="option-input">
                                    B) The concentration of the acid
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q8" value="C" class="option-input">
                                    C) The color of the metal
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q8" value="D" class="option-input">
                                    D) The surface area of the metal
                                </label>
                            </li>
                        </ul>
                        <div class="feedback" id="feedback-q8"></div>
                    </div>
                    
                    <div class="question" id="q9">
                        <h3>Question 9: Why are gold and platinum good choices for jewelry?</h3>
                        <ul class="options">
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q9" value="A" class="option-input">
                                    A) They are very reactive with acids
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q9" value="B" class="option-input">
                                    B) They are the least expensive metals
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q9" value="C" class="option-input">
                                    C) They are very unreactive and won't corrode
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q9" value="D" class="option-input">
                                    D) They produce hydrogen when in contact with skin
                                </label>
                            </li>
                        </ul>
                        <div class="feedback" id="feedback-q9"></div>
                    </div>
                    
                    <div class="question" id="q10">
                        <h3>Question 10: What would be the best container material for storing acids?</h3>
                        <ul class="options">
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q10" value="A" class="option-input">
                                    A) Magnesium
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q10" value="B" class="option-input">
                                    B) Glass or specialized plastic
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q10" value="C" class="option-input">
                                    C) Aluminum
                                </label>
                            </li>
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="q10" value="D" class="option-input">
                                    D) Iron
                                </label>
                            </li>
                        </ul>
                        <div class="feedback" id="feedback-q10"></div>
                    </div>
                    
                    <button type="button" class="submit-quiz" id="submit-quiz">Check Answers</button>
                    
                    <div class="results" id="quiz-results">
                        <h3>Quiz Results</h3>
                        <div class="score-display" id="score-display"></div>
                        <p id="quiz-feedback"></p>
                        <button type="button" class="reset-quiz" id="reset-quiz">Try Again</button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Task 11: Salt Naming Game -->
        <div id="task11" class="task-content">
            <h2>Salt Naming Game</h2>
            
            <div class="game-instructions">
                <h3>How to Play:</h3>
                <p>Test your knowledge of salt formation! A salt name will appear at the top. Select the correct metal and acid that would combine to form that salt, then click "Submit Answer". Can you complete all combinations correctly?</p>
                <ul>
                    <li>Correct answers earn points and move to the next salt</li>
                    <li>Incorrect answers move that salt to the end of the queue for you to try again</li>
                    <li>Complete all combinations to finish the game</li>
                    <li>Try to beat your best time!</li>
                </ul>
            </div>
            
            <div class="game-container" id="salt-game">
                <div class="game-header">
                    <div class="game-stats">
                        <div class="stat timer" id="game-timer">Time: 00:00</div>
                        <div class="stat score" id="game-score">Score: 0</div>
                        <div class="stat remaining-salts" id="remaining-salts">Remaining: 0</div>
                    </div>
                    <div class="stat best-time" id="best-time">Best: --:--</div>
                </div>
                
                <div id="start-screen">
                    <h3>Ready to test your knowledge of salts?</h3>
                    <p>You'll need to match metals with acids to form different salts.</p>
                    <button class="start-button" id="start-game">Start Game</button>
                </div>
                
                <div id="game-screen" style="display: none;">
                    <div class="salt-display" id="salt-name">Salt Name</div>
                    
                    <div class="selection-area">
                        <div>
                            <div class="selection-label">Select the Metal:</div>
                            <div class="options-grid metal-options" id="metal-options">
                                <button class="option-button metal-button" data-metal="sodium">Sodium</button>
                                <button class="option-button metal-button" data-metal="magnesium">Magnesium</button>
                                <button class="option-button metal-button" data-metal="aluminum">Aluminum</button>
                                <button class="option-button metal-button" data-metal="zinc">Zinc</button>
                                <button class="option-button metal-button" data-metal="iron">Iron</button>
                            </div>
                        </div>
                        
                        <div>
                            <div class="selection-label">Select the Acid:</div>
                            <div class="options-grid acid-options" id="acid-options">
                                <button class="option-button acid-button" data-acid="hydrochloric">Hydrochloric Acid</button>
                                <button class="option-button acid-button" data-acid="sulfuric">Sulfuric Acid</button>
                                <button class="option-button acid-button" data-acid="nitric">Nitric Acid</button>
                            </div>
                        </div>
                        
                        <button class="submit-guess" id="submit-guess" disabled>Submit Answer</button>
                    </div>
                    
                    <div class="feedback-message" id="feedback-message"></div>
                </div>
                
                <div class="results-container" id="results-container">
                    <h3>Game Complete!</h3>
                    <div class="score-display" id="final-score">Your score: 0</div>
                    <div class="final-time" id="final-time">Time: 00:00</div>
                    <p id="completion-message">Congratulations! You've matched all salts correctly.</p>
                    <button class="restart-button" id="restart-game">Play Again</button>
                </div>
            </div>
        </div>
        
        <button class="back-to-top" onclick="hideAllTasks()">Back to Task Selection</button>
    </div>

    <script>
        function showTask(taskNumber) {
            // Hide all task contents
            hideAllTasks();
            
            // Show the selected task
            document.getElementById('task' + taskNumber).classList.add('active');
            
            // Scroll to the task content
            document.getElementById('task' + taskNumber).scrollIntoView({
                behavior: 'smooth'
            });
        }
        
        function hideAllTasks() {
            // Get all task content elements
            const taskContents = document.querySelectorAll('.task-content');
            
            // Remove active class from all
            taskContents.forEach(content => {
                content.classList.remove('active');
            });
            
            // Scroll back to top of the page
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }
        
        // Quiz functionality
        document.addEventListener('DOMContentLoaded', function() {
            const submitButton = document.getElementById('submit-quiz');
            const resetButton = document.getElementById('reset-quiz');
            const resultsDiv = document.getElementById('quiz-results');
            const scoreDisplay = document.getElementById('score-display');
            const quizFeedback = document.getElementById('quiz-feedback');
            
            // Correct answers
            const correctAnswers = {
                q1: 'C',
                q2: 'D',
                q3: 'D',
                q4: 'B',
                q5: 'C',
                q6: 'B',
                q7: 'B',
                q8: 'C',
                q9: 'C',
                q10: 'B'
            };
            
            // Explanations for each answer
            const explanations = {
                q1: 'When metals react with acids, they produce hydrogen gas and a salt.',
                q2: 'Magnesium is the most reactive of these metals, followed by iron, then lead, with copper being the least reactive.',
                q3: 'When zinc reacts with sulfuric acid, zinc sulfate is produced along with hydrogen gas.',
                q4: 'Gold is a noble metal and does not react with dilute acids. It is very unreactive.',
                q5: 'Magnesium is highly reactive and produces a vigorous reaction with lots of hydrogen gas bubbles.',
                q6: 'When iron reacts with hydrochloric acid, it produces iron chloride and hydrogen gas.',
                q7: 'Zinc can react with stomach acid (hydrochloric acid) to produce zinc chloride, which is toxic, as well as hydrogen gas.',
                q8: 'The color of the metal has no effect on the rate of reaction. The important factors are temperature, concentration, surface area, and the reactivity of the metal.',
                q9: 'Gold and platinum are very unreactive metals, so they do not corrode or tarnish easily when exposed to air or mild acids.',
                q10: 'Glass or specialized plastic containers are best for storing acids because they do not react with the acids. Metals would react and potentially be dangerous.'
            };
            
            // Submit quiz
            if (submitButton) {
                submitButton.addEventListener('click', function() {
                    let score = 0;
                    let unanswered = [];
                    
                    // Check each question
                    for (let i = 1; i <= 10; i++) {
                        const questionName = 'q' + i;
                        const selectedOption = document.querySelector(`input[name="${questionName}"]:checked`);
                        const feedbackDiv = document.getElementById('feedback-' + questionName);
                        
                        // Reset feedback
                        feedbackDiv.innerHTML = '';
                        feedbackDiv.className = 'feedback';
                        
                        // Reset all option labels
                        document.querySelectorAll(`input[name="${questionName}"]`).forEach(radio => {
                            radio.parentElement.classList.remove('correct', 'incorrect');
                        });
                        
                        if (selectedOption) {
                            const userAnswer = selectedOption.value;
                            const correctAnswer = correctAnswers[questionName];
                            
                            if (userAnswer === correctAnswer) {
                                score++;
                                feedbackDiv.innerHTML = `<p><strong>Correct!</strong> ${explanations[questionName]}</p>`;
                                feedbackDiv.classList.add('correct');
                                selectedOption.parentElement.classList.add('correct');
                            } else {
                                feedbackDiv.innerHTML = `<p><strong>Incorrect.</strong> ${explanations[questionName]}</p>`;
                                feedbackDiv.classList.add('incorrect');
                                selectedOption.parentElement.classList.add('incorrect');
                                
                                // Highlight the correct answer
                                document.querySelector(`input[name="${questionName}"][value="${correctAnswer}"]`).parentElement.classList.add('correct');
                            }
                            
                            feedbackDiv.style.display = 'block';
                        } else {
                            unanswered.push(i);
                        }
                    }
                    
                    // Show results if all questions are answered
                    if (unanswered.length === 0) {
                        scoreDisplay.textContent = `Your score: ${score} out of 10`;
                        
                        // Feedback based on score
                        if (score === 10) {
                            quizFeedback.textContent = 'Excellent! You have a perfect understanding of metals and acids.';
                        } else if (score >= 8) {
                            quizFeedback.textContent = 'Great job! You have a very good understanding of metals and acids.';
                        } else if (score >= 6) {
                            quizFeedback.textContent = 'Good work! You understand the basics, but might want to review some concepts.';
                        } else if (score >= 4) {
                            quizFeedback.textContent = 'You have some understanding, but should review the material more thoroughly.';
                        } else {
                            quizFeedback.textContent = 'It looks like you need more practice with this topic. Try reviewing the tasks again.';
                        }
                        
                        resultsDiv.style.display = 'block';
                    } else {
                        alert(`Please answer all questions. You missed questions: ${unanswered.join(', ')}`);
                    }
                });
            }
            
            // Reset quiz
            if (resetButton) {
                resetButton.addEventListener('click', function() {
                    // Clear all selections
                    document.querySelectorAll('#quiz-form input[type="radio"]').forEach(radio => {
                        radio.checked = false;
                        radio.parentElement.classList.remove('correct', 'incorrect');
                    });
                    
                    // Hide all feedback
                    document.querySelectorAll('.feedback').forEach(div => {
                        div.style.display = 'none';
                        div.innerHTML = '';
                        div.className = 'feedback';
                    });
                    
                    // Hide results
                    resultsDiv.style.display = 'none';
                });
            }
        });
        
        // Salt Naming Game functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Game elements
            const startScreen = document.getElementById('start-screen');
            const gameScreen = document.getElementById('game-screen');
            const resultsContainer = document.getElementById('results-container');
            const startButton = document.getElementById('start-game');
            const restartButton = document.getElementById('restart-game');
            const submitButton = document.getElementById('submit-guess');
            const saltDisplay = document.getElementById('salt-name');
            const metalOptions = document.getElementById('metal-options');
            const acidOptions = document.getElementById('acid-options');
            const feedbackMessage = document.getElementById('feedback-message');
            const timerDisplay = document.getElementById('game-timer');
            const scoreDisplay = document.getElementById('game-score');
            const remainingSaltsDisplay = document.getElementById('remaining-salts');
            const bestTimeDisplay = document.getElementById('best-time');
            const finalScoreDisplay = document.getElementById('final-score');
            const finalTimeDisplay = document.getElementById('final-time');
            
            // Game variables
            let timer;
            let timeElapsed = 0;
            let score = 0;
            let selectedMetal = null;
            let selectedAcid = null;
            let currentSalt = null;
            let saltQueue = [];
            let bestTime = null; // Track best time in memory instead of localStorage
            
            // Metal-acid-salt mapping
            const saltMapping = {
                sodium: {
                    hydrochloric: 'Sodium Chloride',
                    sulfuric: 'Sodium Sulfate',
                    nitric: 'Sodium Nitrate'
                },
                magnesium: {
                    hydrochloric: 'Magnesium Chloride',
                    sulfuric: 'Magnesium Sulfate',
                    nitric: 'Magnesium Nitrate'
                },
                aluminum: {
                    hydrochloric: 'Aluminum Chloride',
                    sulfuric: 'Aluminum Sulfate',
                    nitric: 'Aluminum Nitrate'
                },
                zinc: {
                    hydrochloric: 'Zinc Chloride',
                    sulfuric: 'Zinc Sulfate',
                    nitric: 'Zinc Nitrate'
                },
                iron: {
                    hydrochloric: 'Iron Chloride',
                    sulfuric: 'Iron Sulfate',
                    nitric: 'Iron Nitrate'
                }
            };
            
            // Create all possible salts for the game
            function createSaltQueue() {
                const salts = [];
                for (const metal in saltMapping) {
                    for (const acid in saltMapping[metal]) {
                        salts.push({
                            name: saltMapping[metal][acid],
                            metal: metal,
                            acid: acid
                        });
                    }
                }
                return shuffleArray([...salts]);
            }
            
            // Shuffle array (Fisher-Yates algorithm)
            function shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
                return array;
            }
            
            // Format time as MM:SS
            function formatTime(seconds) {
                const mins = Math.floor(seconds / 60).toString().padStart(2, '0');
                const secs = (seconds % 60).toString().padStart(2, '0');
                return `${mins}:${secs}`;
            }
            
            // Start the game
            function startGame() {
                saltQueue = createSaltQueue();
                score = 0;
                timeElapsed = 0;
                
                updateScore();
                updateTimer();
                updateRemainingSalts();
                
                // Display the first salt
                nextSalt();
                
                // Start the timer
                timer = setInterval(() => {
                    timeElapsed++;
                    updateTimer();
                }, 1000);
                
                // Show game screen, hide start screen
                startScreen.style.display = 'none';
                gameScreen.style.display = 'block';
                resultsContainer.style.display = 'none';
                
                // Display best time if available
                if (bestTime) {
                    bestTimeDisplay.textContent = `Best: ${formatTime(bestTime)}`;
                } else {
                    bestTimeDisplay.textContent = 'Best: --:--';
                }
            }
            
            // End the game
            function endGame() {
                clearInterval(timer);
                
                // Update displays
                finalScoreDisplay.textContent = `Your score: ${score}`;
                finalTimeDisplay.textContent = `Time: ${formatTime(timeElapsed)}`;
                
                // Update best time if this is better
                if (!bestTime || timeElapsed < bestTime) {
                    bestTime = timeElapsed;
                    bestTimeDisplay.textContent = `Best: ${formatTime(bestTime)}`;
                }
                
                // Show results screen
                gameScreen.style.display = 'none';
                resultsContainer.style.display = 'block';
            }
            
            // Move to the next salt
            function nextSalt() {
                if (saltQueue.length === 0) {
                    endGame();
                    return;
                }
                
                currentSalt = saltQueue.shift();
                saltDisplay.textContent = currentSalt.name;
                
                // Reset selections
                resetSelections();
                
                // Update displays
                updateRemainingSalts();
                hideFeedback();
            }
            
            // Update the timer display
            function updateTimer() {
                timerDisplay.textContent = `Time: ${formatTime(timeElapsed)}`;
            }
            
            // Update the score display
            function updateScore() {
                scoreDisplay.textContent = `Score: ${score}`;
            }
            
            // Update the remaining salts display
            function updateRemainingSalts() {
                remainingSaltsDisplay.textContent = `Remaining: ${saltQueue.length + 1}`;
            }
            
            // Reset metal and acid selections
            function resetSelections() {
                selectedMetal = null;
                selectedAcid = null;
                
                // Reset button styles
                document.querySelectorAll('.metal-button').forEach(btn => {
                    btn.classList.remove('selected');
                });
                
                document.querySelectorAll('.acid-button').forEach(btn => {
                    btn.classList.remove('selected');
                });
                
                // Disable submit button
                submitButton.disabled = true;
            }
            
            // Show feedback message
            function showFeedback(isCorrect, message) {
                feedbackMessage.textContent = message;
                feedbackMessage.className = 'feedback-message';
                feedbackMessage.classList.add(isCorrect ? 'feedback-correct' : 'feedback-incorrect');
                feedbackMessage.style.display = 'block';
                
                // Auto-hide feedback after 2 seconds
                setTimeout(() => {
                    hideFeedback();
                }, 2000);
            }
            
            // Hide feedback message
            function hideFeedback() {
                feedbackMessage.style.display = 'none';
            }
            
            // Check if the current selection is correct
            function checkAnswer() {
                if (selectedMetal === currentSalt.metal && selectedAcid === currentSalt.acid) {
                    // Correct answer
                    score += 10;
                    updateScore();
                    showFeedback(true, 'Correct! Well done!');
                    
                    // Move to next salt after a short delay
                    setTimeout(() => {
                        nextSalt();
                    }, 1000);
                } else {
                    // Incorrect answer
                    showFeedback(false, 'Not quite right. Try again later!');
                    
                    // Put the salt back at the end of the queue
                    saltQueue.push(currentSalt);
                    
                    // Move to next salt after a short delay
                    setTimeout(() => {
                        nextSalt();
                    }, 1000);
                }
            }
            
            // Event: Start button click
            if (startButton) {
                startButton.addEventListener('click', startGame);
            }
            
            // Event: Restart button click
            if (restartButton) {
                restartButton.addEventListener('click', startGame);
            }
            
            // Event: Metal button click
            if (metalOptions) {
                metalOptions.addEventListener('click', (e) => {
                    if (e.target.classList.contains('metal-button')) {
                        // Deselect all metal buttons
                        document.querySelectorAll('.metal-button').forEach(btn => {
                            btn.classList.remove('selected');
                        });
                        
                        // Select clicked button
                        e.target.classList.add('selected');
                        selectedMetal = e.target.getAttribute('data-metal');
                        
                        // Enable submit if both selections are made
                        submitButton.disabled = !(selectedMetal && selectedAcid);
                    }
                });
            }
            
            // Event: Acid button click
            if (acidOptions) {
                acidOptions.addEventListener('click', (e) => {
                    if (e.target.classList.contains('acid-button')) {
                        // Deselect all acid buttons
                        document.querySelectorAll('.acid-button').forEach(btn => {
                            btn.classList.remove('selected');
                        });
                        
                        // Select clicked button
                        e.target.classList.add('selected');
                        selectedAcid = e.target.getAttribute('data-acid');
                        
                        // Enable submit if both selections are made
                        submitButton.disabled = !(selectedMetal && selectedAcid);
                    }
                });
            }
            
            // Event: Submit button click
            if (submitButton) {
                submitButton.addEventListener('click', checkAnswer);
            }
            
            // Initialize best time display
            bestTimeDisplay.textContent = 'Best: --:--';
        });
    </script>
</body>
</html>
